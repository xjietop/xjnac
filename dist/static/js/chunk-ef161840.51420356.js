(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef161840"],{2934:function(t,e,r){"use strict";r.d(e,"a",function(){return o});var a=r("b775"),n=r("700d");function o(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/productClass/industryClass/all",method:"get",params:t})}},"386d":function(t,e,r){"use strict";var a=r("cb7c"),n=r("83a1"),o=r("5f1b");r("214f")("search",1,function(t,e,r,i){return[function(r){var a=t(this),n=void 0==r?void 0:r[e];return void 0!==n?n.call(r,a):new RegExp(r)[e](String(a))},function(t){var e=i(r,t,this);if(e.done)return e.value;var c=a(t),s=String(this),u=c.lastIndex;n(u,0)||(c.lastIndex=0);var l=o(c,s);return n(c.lastIndex,u)||(c.lastIndex=u),null===l?-1:l.index}]})},"464c":function(t,e,r){},"74f0":function(t,e,r){var a={"./en-gb":"39a6","./zh-cn":"5c3a"};function n(t){var e=o(t);return r(e)}function o(t){var e=a[t];if(!(e+1)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="74f0"},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},a086:function(t,e,r){"use strict";var a=r("bf0a"),n=r.n(a);n.a},b53c:function(t,e,r){"use strict";var a=r("464c"),n=r.n(a);n.a},bf0a:function(t,e,r){},d8d2:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container app-product-list"},[r("search-bar",{ref:"refSearch",attrs:{"search-data":t.searchData,"auto-load":!0},on:{search:t.query}},[r("template",{slot:"right"},[r("div",{staticClass:"app-search-right"},[r("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:t.create}},[t._v("添加")])],1)])],2),t._v(" "),r("div",{staticClass:"app-table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],attrs:{data:t.tableData,height:t.height,"tooltip-effect":"light",stripe:""}},[r("el-table-column",{attrs:{prop:"productCode",label:"商品ID","min-width":"120",align:"left",fixed:""}}),t._v(" "),r("el-table-column",{attrs:{label:"商品名称","min-width":"150",align:"left",fixed:"","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"link",on:{click:function(r){return t.viewDetail(e.row)}}},[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"商品品种","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(0===e.row.club?"尚划算":"抱团")+"\n                ")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"clubName",label:"所属俱乐部","min-width":"120",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"typeName",label:"榜单类型","min-width":"150",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"manufacturer",label:"厂家","min-width":"150",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"时间范围","min-width":"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"date-row"},[r("el-tag",{attrs:{type:"success",size:"small"}},[t._v("开始")]),t._v("\n                        "+t._s(e.row.startTime)+"\n                    ")],1),t._v(" "),r("div",{staticClass:"date-row"},[r("el-tag",{attrs:{size:"small"}},[t._v("结束")]),t._v("\n                        "+t._s(e.row.endTime)+"\n                    ")],1)]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"sort",label:"排序号","min-width":"50",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return t.remove(e.row)}}},[t._v("移出榜单")])]}}])})],1)],1),t._v(" "),r("div",{staticClass:"app-pagination"},[r("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":t.searchData.page.current,"page-size":t.searchData.page.size,total:t.page.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1),t._v(" "),r("win-register",{ref:"refRegister"})],1)},n=[],o=(r("386d"),r("db72")),i=r("b775"),c=r("700d");function s(t){return Object(i["a"])({baseURL:c["a"],url:"/cms/admin/topList/page",method:"get",params:t})}function u(t){return Object(i["a"])({baseURL:c["a"],url:"/cms/admin/topList",method:"post",data:t})}function l(t){return Object(i["a"])({baseURL:c["a"],url:"/cms/admin/topList/".concat(t.topListId),method:"delete"})}var d=r("2f62"),f=r("b932"),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{staticClass:"el-win-product-coming-register",attrs:{title:"添加榜单商品",visible:t.show,"close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e}}},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,size:"medium","label-width":"110px"}},[r("el-form-item",{attrs:{label:"选择俱乐部"}},[r("el-radio",{attrs:{label:1},model:{value:t.form.club,callback:function(e){t.$set(t.form,"club",e)},expression:"form.club"}},[t._v("乐赛仙")]),t._v(" "),r("el-radio",{attrs:{label:2},model:{value:t.form.club,callback:function(e){t.$set(t.form,"club",e)},expression:"form.club"}},[t._v("佐安堂")]),t._v(" "),r("el-radio",{attrs:{label:3},model:{value:t.form.club,callback:function(e){t.$set(t.form,"club",e)},expression:"form.club"}},[t._v("初心")]),t._v(" "),r("el-radio",{attrs:{label:0},model:{value:t.form.club,callback:function(e){t.$set(t.form,"club",e)},expression:"form.club"}},[t._v("尚划算")])],1),t._v(" "),r("el-form-item",{attrs:{prop:"productId",label:"商品名称"}},[r("el-input",{attrs:{readonly:"",placeholder:"请选择商品"},on:{focus:t.choseProduct},model:{value:t.form.productName,callback:function(e){t.$set(t.form,"productName",e)},expression:"form.productName"}},[r("template",{slot:"append"},[r("el-button",{on:{click:t.choseProduct}},[t._v("选择商品")])],1)],2)],1),t._v(" "),r("el-form-item",{attrs:{prop:"type",label:"榜单类型"}},[r("el-select",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[r("el-option",{attrs:{value:1,label:"人气商品"}}),t._v(" "),r("el-option",{attrs:{value:2,label:"爆款经典"}}),t._v(" "),r("el-option",{attrs:{value:3,label:"增量明星"}})],1)],1),t._v(" "),r("el-form-item",{attrs:{prop:"date",label:"显示时间"}},[r("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"sort",label:"排序号"}},[r("el-input",{attrs:{type:"number",placeholder:"请输入排序号"},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[t._v("确 定")])],1),t._v(" "),r("select-product",{ref:"refProduct"})],1)},m=[],b=r("ef09"),h=r("c1df"),g=r.n(h),v={name:"WinComingRegister",components:{selectProduct:b["a"]},data:function(){return{edit:!1,loading:!1,form:{club:1,productId:"",productName:"",type:"",date:"",startTime:"",endTime:"",sort:""},rules:{club:[{required:!0,message:"请选择俱乐部",trigger:"blur"}],productId:[{required:!0,message:"请选择商品",trigger:"change"}],type:[{required:!0,message:"请选择榜单类型",trigger:"blur"}],date:[{required:!0,message:"请选择显示时间",trigger:"change"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"blur"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"blur"}]},show:!1,pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}}}},watch:{"form.club":function(t,e){this.form.productId="",this.form.productName=""}},created:function(){},methods:{add:function(t,e){var r=this;this.edit=!1,this.loading=!1,this.callback=e,this.show=!0,this.$nextTick(function(){r.$refs["ruleForm"].resetFields(),r.form.productId="",r.form.productName="",r.form.type=t.type})},update:function(t,e){var r=this;this.edit=!0,this.loading=!1,this.callback=e,this.show=!0,this.$nextTick(function(){for(var e in r.$refs["ruleForm"].resetFields(),r.form)r.form[e]=t[e];r.form.date=[t.startTime,t.endTime]})},save:function(){var t=this;this.$refs["ruleForm"].validate(function(e){if(!e)return!1;t.loading=!0;var r=Object.assign({},t.form);r.startTime=g()(t.form.date[0]).format("YYYY-MM-DD HH:mm:ss"),r.endTime=g()(t.form.date[1]).format("YYYY-MM-DD HH:mm:ss"),t.callback(r)})},close:function(){this.show=!1},choseProduct:function(){var t=this;this.$refs["refProduct"].open(function(e){t.form.productId=e.sid,t.form.productName=e.commodityName},{club:{value:this.form.club,disabled:!0}})}}},_=v,w=(r("b53c"),r("2877")),k=Object(w["a"])(_,p,m,!1,null,null,null),y=k.exports,O={name:"PageOtherTop",components:{searchBar:f["a"],WinRegister:y},data:function(){return{searchData:{quickList:[{label:"按商品名称",value:"productName"}],searchList:[{prop:"type",placeholder:"类型",type:"select",clearable:!0,defaultValue:1,list:[{label:"人气商品",value:1},{label:"爆款经典",value:2},{label:"增量明星",value:3}]}],page:{size:20,current:1}},tableData:[],page:{total:0}}},computed:Object(o["a"])({},Object(d["b"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205}}),methods:{query:function(t){var e=this;this.tableLoading=!0,s(Object.assign({},t)).then(function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total,e.tableLoading=!1})},sizeChange:function(t){this.$refs["refSearch"].search({size:t})},pageChange:function(t){this.$refs["refSearch"].search({current:t})},create:function(){var t=this;this.$refs["refRegister"].add(this.$refs["refSearch"].getParams(),function(e){u(e).then(function(){t.$refs["refRegister"].loading=!1,t.$refs["refRegister"].close(),t.query(),t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refRegister"].loading=!1})})},remove:function(t){var e=this;this.$confirm("是否确认将商品"+t.productName+"从榜单中移除?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return l({topListId:t.sid})}).then(function(){e.$refs["refSearch"].search({current:1}),e.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(){})}}},x=O,L=(r("a086"),Object(w["a"])(x,a,n,!1,null,"4b38b2ab",null));e["default"]=L.exports},feb7:function(t,e,r){"use strict";r.d(e,"c",function(){return o}),r.d(e,"i",function(){return i}),r.d(e,"f",function(){return c}),r.d(e,"n",function(){return s}),r.d(e,"b",function(){return u}),r.d(e,"d",function(){return l}),r.d(e,"k",function(){return d}),r.d(e,"p",function(){return f}),r.d(e,"o",function(){return p}),r.d(e,"m",function(){return m}),r.d(e,"l",function(){return b}),r.d(e,"q",function(){return h}),r.d(e,"g",function(){return g}),r.d(e,"e",function(){return v}),r.d(e,"h",function(){return _}),r.d(e,"r",function(){return w}),r.d(e,"j",function(){return k}),r.d(e,"a",function(){return y});var a=r("b775"),n=r("700d");function o(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/page",method:"get",params:t})}function i(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/relation/list/".concat(t.productSid),method:"get",params:t})}function c(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/relation/productList/page",method:"get",params:t})}function s(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/relation",method:"put",data:t})}function u(t){return Object(a["a"])({baseURL:n["a"],url:"/admin/external/area/treeInfo",method:"get",params:t})}function l(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/area/".concat(t.sid),method:"get",params:t})}function d(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/".concat(t.sid,"/area"),method:"put",data:t.area})}function f(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/saleStatus",method:"put",data:t})}function p(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/risePrice/".concat(t.sid),method:"put",data:t.prices})}function m(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/price/audit",method:"POST",data:t})}function b(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/showIndex/".concat(t.sid),method:"put",data:t.index})}function h(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/label/relation",method:"post",data:t})}function g(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/sku/list/".concat(t.sid),method:"get",params:t})}function v(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/info/".concat(t.sid),method:"get",params:t})}function _(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/label/page",method:"get",params:t})}function w(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/headSales",method:"post",data:t})}function k(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/inspectionReport/batchUpload/".concat(t.sid),method:"post",data:t.report})}function y(t){return Object(a["a"])({baseURL:n["a"],url:"/product/admin/product/createIndexBySid/".concat(t.sid),method:"get",params:t})}}}]);