(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-510e7a82"],{"386d":function(e,t,a){"use strict";var r=a("cb7c"),n=a("83a1"),o=a("5f1b");a("214f")("search",1,function(e,t,a,i){return[function(a){var r=e(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,r):new RegExp(a)[t](String(r))},function(e){var t=i(a,e,this);if(t.done)return t.value;var l=r(e),c=String(this),s=l.lastIndex;n(s,0)||(l.lastIndex=0);var u=o(l,c);return n(l.lastIndex,s)||(l.lastIndex=s),null===u?-1:u.index}]})},"3bca":function(e,t,a){},5193:function(e,t,a){"use strict";a.d(t,"d",function(){return o}),a.d(t,"h",function(){return i}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return c}),a.d(t,"i",function(){return s}),a.d(t,"j",function(){return u}),a.d(t,"b",function(){return d}),a.d(t,"k",function(){return p}),a.d(t,"l",function(){return b}),a.d(t,"g",function(){return h}),a.d(t,"a",function(){return m}),a.d(t,"c",function(){return f});var r=a("b775"),n=a("700d");function o(e){return Object(r["a"])({baseURL:n["a"],url:"/order/admin/order/page",method:"get",params:e})}function i(e){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/userInfo",method:"get",params:e})}function l(e){return Object(r["a"])({baseURL:n["a"],url:"/admin/external/area/getAreaInfoByCode/".concat(e.areaCode),method:"get",params:e})}function c(e){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/userInfo/account",method:"get",params:e})}function s(e){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/pageByUserSid",method:"get",params:e})}function u(e){return Object(r["a"])({baseURL:n["a"],url:"/order/admin/order/shipping-info/".concat(e.userSid),method:"get",params:e})}function d(e){return Object(r["a"])({baseURL:n["a"],url:"/order/admin/order/create",method:"post",data:e})}function p(e){return Object(r["a"])({baseURL:n["a"],url:"/order/api/order/payment/captcha/".concat(e.orderId),method:"GET",params:e})}function b(e){return Object(r["a"])({baseURL:n["a"],url:"/order/api/order/payment/verify/".concat(e.orderId,"/").concat(e.captcha),method:"post",data:e})}function h(e){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/userInfo/".concat(e.sid),method:"GET",params:e})}function m(e){return Object(r["a"])({baseURL:n["a"],url:"/order/api/order/".concat(e.orderId,"/").concat(e.orderStatus),method:"PUT",data:e})}function f(e){return Object(r["a"])({baseURL:n["a"],url:"/order/api/order/cashier//".concat(e.orderId),method:"POST"})}},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"925e":function(e,t,a){"use strict";var r=a("3bca"),n=a.n(r);n.a},c33f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container app-order-inner-list"},[a("search-bar",{ref:"refSearch",attrs:{"search-data":e.searchData,"auto-load":!0},on:{search:e.query}},[a("template",{slot:"right"},[a("div",{staticClass:"app-search-right"},[a("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("创建内部订单")])],1)])],2),e._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,height:e.height,stripe:""}},[a("el-table-column",{attrs:{prop:"orderId",label:"订单编号","min-width":"180",align:"center",fixed:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"businessName",label:"客户名称","min-width":"150",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplierDesc",label:"供应商","min-width":"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"clubDesc",label:"所属俱乐部","min-width":"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shippingName",label:"物流配送","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalAmount",label:"订单金额","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"salesExecutiveName",label:"商务专员","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"makingStatusDesc",label:"制单状态","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"orderStatusDesc",label:"订单状态","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"160",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"relProductId",label:"操作","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.detail(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"text",disabled:1!==t.row.orderStatus},on:{click:function(a){return e.cancel(t.row)}}},[e._v("取消")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":e.searchData.page.current,"page-size":e.searchData.page.size,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)],1)},n=[],o=(a("386d"),a("db72")),i=a("5193"),l=a("2f62"),c=a("b932"),s={name:"PageInnerList",components:{searchBar:c["a"]},data:function(){return{ossURL:this.$store.getters.oss_url+"/",searchData:{quickList:[{label:"订单编号",value:"orderId"},{label:"单位名称",value:"businessName"},{label:"会员电话",value:"mobilePhone"}],searchList:[{prop:"club",placeholder:"所属俱乐部",type:"select",clearable:!0,list:[{label:"乐赛仙",value:"1"},{label:"佐安堂",value:"2"},{label:"初心",value:"3"},{label:"尚划算",value:"4"}]},{prop:"orderStatus",placeholder:"订单状态",type:"select",clearable:!0,list:[{label:"待付款",value:1},{label:"待发货",value:2},{label:"已发货",value:3},{label:"已收货",value:4},{label:"已完成",value:5},{label:"已取消",value:6},{label:"退款中",value:7}]}],page:{size:20,current:1}},searchParams:{orderType:2},tableData:[],tableLoading:!1,page:{total:0}}},computed:Object(o["a"])({},Object(l["b"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205}}),methods:{query:function(e){var t=this;this.tableLoading=!0,Object(i["d"])(Object.assign({},e,this.searchParams)).then(function(e){t.tableData=e.data.data.records,t.page.total=e.data.data.total,t.tableLoading=!1})},sizeChange:function(e){this.$refs["refSearch"].search({size:e})},pageChange:function(e){this.$refs["refSearch"].search({current:e})},detail:function(e){this.$router.push({path:"/order/inner/creat",query:{id:e.orderId}})},create:function(){this.$router.push({path:"/order/inner/creat"})},cancel:function(e){var t=this;this.$confirm('是否要取消订单号为"'+e.orderId+'"的订单吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(i["a"])({orderId:e.orderId,orderStatus:6})}).then(function(){t.$refs["refSearch"].search(),t.$message({showClose:!0,message:"取消成功",type:"success"})}).catch(function(){})}}},u=s,d=(a("925e"),a("2877")),p=Object(d["a"])(u,r,n,!1,null,"237e5169",null);t["default"]=p.exports}}]);