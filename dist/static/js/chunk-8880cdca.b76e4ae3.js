(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8880cdca"],{"6d34":function(t,e,l){"use strict";var a=l("c669"),i=l.n(a);i.a},"74f0":function(t,e,l){var a={"./en-gb":"39a6","./zh-cn":"5c3a"};function i(t){var e=n(t);return l(e)}function n(t){var e=a[t];if(!(e+1)){var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}return e}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="74f0"},c669:function(t,e,l){},c719:function(t,e,l){"use strict";l.d(e,"a",function(){return n}),l.d(e,"b",function(){return o});var a=l("b775"),i=l("700d");function n(t){return Object(a["a"])({baseURL:i["a"],url:"/order/admin/order/orderDetailByOrderId",method:"get",params:t})}function o(t){return Object(a["a"])({baseURL:i["a"],url:"/order/api/order/payment/".concat(t.orderId,"/").concat(t.paymentType),method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",source:1}})}},daa0:function(t,e,l){"use strict";l.r(e);var a=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container app-order-detail",style:[{"min-height":t.height+"px"}]},[l("el-page-header",{attrs:{content:"订单详情"},on:{back:t.goBack}}),t._v(" "),l("el-divider",{attrs:{"content-position":"left"}},[t._v("基础信息")]),t._v(" "),t.loading?t._e():l("div",[l("div",{staticClass:"info-row clearfix"},[l("dl",[l("dt",[t._v("销售单号：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.orderId||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("状态：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.orderStatusDesc||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("创建时间：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.createTime||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("订单类型：")]),t._v(" "),l("dd",[t._v(t._s(1===t.detail.orderType?"自主下单":"代下单"))])]),t._v(" "),l("dl",[l("dt",[t._v("下单人：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.userName||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("订单备注：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.userMessage||"暂无"))])])]),t._v(" "),l("el-divider",{attrs:{"content-position":"left"}},[t._v("客户信息")]),t._v(" "),l("div",{staticClass:"info-row clearfix"},[l("dl",[l("dt",[t._v("客户名称：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.businessName||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("联系电话：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.mobilePhone||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("联系人：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.userName||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("客户地址：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.shipAddress||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("配送方式：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.shippingName||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("所属地总：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.districtManagerName||"暂无"))])])]),t._v(" "),l("el-divider",{attrs:{"content-position":"left"}},[t._v("支付信息")]),t._v(" "),l("div",{staticClass:"info-row clearfix"},[l("dl",[l("dt",[t._v("支付方式：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.paymentTypeDesc||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("支付时间：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.paymentTime||"暂无"))])]),t._v(" "),l("dl",[l("dt",[t._v("用余额：")]),t._v(" "),l("dd",[t._v("￥"+t._s(t.detail.receivedAmount.toFixed(2)))])]),t._v(" "),l("dl",[l("dt",[t._v("用专项：")]),t._v(" "),l("dd",[t._v("￥"+t._s(t.detail.specialAmount.toFixed(2)))])]),t._v(" "),l("dl",[l("dt",[t._v("用返利：")]),t._v(" "),l("dd",[t._v("￥"+t._s(t.detail.rebateAmount.toFixed(2)))])]),t._v(" "),l("dl",[l("dt",[t._v("应支付：")]),t._v(" "),l("dd",[t._v("￥"+t._s(t.detail.paymentAmount.toFixed(2)))])]),t._v(" "),l("dl",[l("dt",[t._v("总金额：")]),t._v(" "),l("dd",[t._v("￥"+t._s(t.detail.totalAmount.toFixed(2)))])]),t._v(" "),l("dl",[l("dt",[t._v("价税合计：")]),t._v(" "),l("dd",[t._v("￥"+t._s((t.detail.totalAmount-t.detail.rebateAmount).toFixed(2)))])]),t._v(" "),l("dl",[l("dt",[t._v("发票类型：")]),t._v(" "),l("dd",[t._v(t._s(t.detail.invoiceTypeDesc)+" ("+t._s(t.detail.invoiceShapeDesc)+")")])])]),t._v(" "),l("el-divider",{attrs:{"content-position":"left"}},[t._v("订单商品")]),t._v(" "),l("div",{staticClass:"app-table"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.detail.generalItems,height:400,"tooltip-effect":"light",stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号",align:"center",fixed:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"productCode",label:"商品编码","min-width":"120",align:"center",fixed:""}}),t._v(" "),l("el-table-column",{attrs:{prop:"productName",label:"商品名称","min-width":"150",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"productSpec",label:"规格型号","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"manufacturer",label:"生产企业","min-width":"120",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"expireDate",label:"效期优于","min-width":"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t.expireDate(e.row.expireDate))+"\n                    ")]}}],null,!1,3844621084)}),t._v(" "),l("el-table-column",{attrs:{prop:"price",label:"含税单价","min-width":"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"promotionActivityDesc",label:"促销活动","min-width":"120",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"quantity",label:"数量","min-width":"150",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"amount",label:"价税合计","min-width":"80",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ratio",label:"销量占比","min-width":"80",align:"center"}})],1),t._v(" "),t.detail.packageItems.length>0?[l("el-divider",{attrs:{"content-position":"left"}},[t._v("套餐商品")]),t._v(" "),l("div",{staticClass:"app-table"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.detail.packageItems,height:400,"tooltip-effect":"light","default-expand-all":!0,stripe:""}},[l("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-table",{attrs:{data:e.row.productList,"tooltip-effect":"light"}},[l("el-table-column",{attrs:{prop:"productName",label:"商品名称","min-width":"150",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"productSpec",label:"规格型号","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"manufacturer",label:"生产企业","min-width":"120",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"expireDate",label:"效期优于","min-width":"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"price",label:"含税单价","min-width":"100",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"baseQuantity",label:"数量","min-width":"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(l){return[t._v("\n                                            "+t._s(l.row.baseQuantity)+" × "+t._s(e.row.quantity)+" \n                                        ")]}}],null,!0)})],1)]}}],null,!1,523887420)}),t._v(" "),l("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"promotionTips",label:"套餐名称","min-width":"200",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"originalPrice",label:"套餐原价","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"discountPrice",label:"套餐价","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"quantity",label:"数量","min-width":"150",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"amount",label:"合计(元)","min-width":"150",align:"center"}})],1)],1)]:t._e(),t._v(" "),l("div",{staticClass:"total-box"},[l("p",[l("span",[t._v("总金额：￥"+t._s(t.detail.totalAmount.toFixed(2)))])]),t._v(" "),l("p",[l("span",[t._v("应支付：￥"+t._s(t.detail.paymentAmount.toFixed(2)))])])])],2),t._v(" "),t.detail.giftList.length>0?[l("el-divider",{attrs:{"content-position":"left"}},[t._v("赠品列表")]),t._v(" "),l("div",{staticClass:"app-table"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.detail.giftList,height:400,"tooltip-effect":"light",stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"giftName",label:"商品名称","min-width":"150",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"giftSpec",label:"规格型号","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"giftBrand",label:"品牌","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"promotionTips",label:"促销活动","min-width":"200",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"quantity",label:"数量","min-width":"150",align:"center","show-overflow-tooltip":""}})],1)],1)]:t._e(),t._v(" "),l("el-divider",{attrs:{"content-position":"left"}},[t._v("订单日志")]),t._v(" "),l("div",{staticClass:"app-table"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.detail.logList,height:400,"tooltip-effect":"light",stripe:""}},[l("el-table-column",{attrs:{prop:"createTime",label:"时间","min-width":"120",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"log",label:"日志内容","min-width":"150",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"operator",label:"操作员ID","min-width":"100",align:"center"}})],1)],1)],2)],1)},i=[],n=l("db72"),o=l("2f62"),d=l("c719"),r=l("c1df"),s=l.n(r),c={name:"PageOrderDetail",components:{},data:function(){return{sid:this.$route.query.id,detail:{},loading:!1}},computed:Object(n["a"])({},Object(o["b"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-84}}),created:function(){this.getOrderDetail()},methods:{expireDate:function(t){return s()(t).format("YYYY-MM-DD")},goBack:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.go(-1)},getOrderDetail:function(){var t=this;this.loading=!0,Object(d["a"])({orderId:this.sid}).then(function(e){var l=e.data.data;t.detail=l,t.loading=!1}).catch(function(){t.loading=!1})}}},v=c,_=(l("6d34"),l("2877")),p=Object(_["a"])(v,a,i,!1,null,null,null);e["default"]=p.exports}}]);