(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{1288:function(e,t,a){},"4a9d":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-image-upload"},[e.multiple?e._l(e.fileList,function(e,t){return a("span",{key:t},[a("el-image",{attrs:{src:e.url,fit:"contain"}})],1)}):e._e(),e._v(" "),a("el-upload",{ref:"upload",staticClass:"image-uploader",attrs:{action:e.baseURL+"/public/api/file/upload",headers:e.headers,accept:"image/*","file-list":e.fileList,"show-file-list":!1,multiple:e.multiple,"before-upload":e.handleBeforeUpload,"on-change":e.handleChange,"on-success":e.handleSuccess}},[!1===e.multiple?e._l(e.fileList,function(t,s){return a("span",{key:s},[a("el-image",{attrs:{src:"success"===t.status?e.ossURL+t.url:t.imagePreview,fit:"contain"}}),e._v(" "),a("el-progress",{directives:[{name:"show",rawName:"v-show",value:"ready"===t.status,expression:"file.status==='ready'"}],attrs:{percentage:t.percentage}}),e._v(" "),a("el-progress",{directives:[{name:"show",rawName:"v-show",value:"error"===t.status,expression:"file.status==='error'"}],attrs:{percentage:t.percentage,status:"exception"}})],1)}):e._e(),e._v(" "),0===e.fileList.length?e._t("tips",[a("div",{staticClass:"tips"},[a("i",{staticClass:"el-icon-upload image-uploader-icon"}),e._v(" "),a("p",[e._v("点击上传图片")])])]):e._e()],2)],2)},i=[],l=a("700d"),n={name:"ImageUpload",model:{prop:"value",event:"change"},props:{value:{type:[String,Array],default:""},multiple:{type:Boolean,default:!1}},data:function(){return{baseURL:l["a"],ossURL:this.$store.getters.oss_url,headers:{Authorization:"Bearer "+this.$store.getters.access_token},fileList:[]}},watch:{value:function(e){this.fileList=[],this.multiple||""===e||(this.fileList=[{status:"success",percentage:100,url:e}])}},methods:{handleChange:function(e,t){!this.multiple&&t.length>1&&t.splice(0,1),this.$set(e,"imagePreview",URL.createObjectURL(e.raw)),this.fileList=t},handleSuccess:function(e,t,a){0===e.code?this.multiple||(this.$emit("change",e.data[0]),this.$message({message:"图片上传成功！",type:"success"})):(this.$emit("change",""),this.$message({message:"图片上传失败，请重试！",type:"error"}))}}},r=n,c=(a("649c"),a("2877")),o=Object(c["a"])(r,s,i,!1,null,"09da7d89",null);t["a"]=o.exports},"62c5":function(e,t,a){},"649c":function(e,t,a){"use strict";var s=a("bcc7"),i=a.n(s);i.a},"686a":function(e,t,a){"use strict";var s=a("62c5"),i=a.n(s);i.a},8256:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[a("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),a("div",{staticClass:"editor-custom-btn-container"},[a("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},i=[],l=(a("ac6a"),a("c5f6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-container"},[a("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n        上传图片\n    ")]),e._v(" "),a("el-dialog",{staticClass:"el-editor-upload",attrs:{title:"图片上传",visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:e.baseURL+"/public/api/file/upload",headers:e.headers,"list-type":"picture-card"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("\n                点击上传图片\n            ")])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)],1)}),n=[],r=(a("456d"),a("700d")),c={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],baseURL:r["a"],ossURL:this.$store.getters.oss_url+"/",headers:{Authorization:"Bearer "+this.$store.getters.access_token}}},methods:{checkAllSuccess:function(){var e=this;return console.log(Object.keys(this.listObj).every(function(t){return e.listObj[t].hasSuccess})),Object.keys(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片成功上传。如果存在网络问题，请刷新页面并重新上传！")},handleSuccess:function(e,t){for(var a=t.uid,s=Object.keys(this.listObj),i=0,l=s.length;i<l;i++)if(this.listObj[s[i]].uid===a)return this.listObj[s[i]].url=this.ossURL+e.data[0],void(this.listObj[s[i]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,a=Object.keys(this.listObj),s=0,i=a.length;s<i;s++)if(this.listObj[a[s]].uid===t)return void delete this.listObj[a[s]]},beforeUpload:function(e){var t=this,a=window.URL||window.webkitURL,s=e.uid;return this.listObj[s]={},new Promise(function(i,l){var n=new Image;n.src=a.createObjectURL(e),n.onload=function(){t.listObj[s]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},i(!0)})}}},o=c,u=(a("8502"),a("2877")),d=Object(u["a"])(o,l,n,!1,null,null,null),h=d.exports,p=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],f=p,m=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],b=m,v=(a("ac4d"),a("8a81"),[]);function g(){return window.tinymce}var y=function(e,t){var a=document.getElementById(e),s=t||function(){};if(!a){var i=document.createElement("script");i.src=e,i.id=e,document.body.appendChild(i),v.push(s);var l="onload"in i?n:r;l(i)}function n(t){t.onload=function(){this.onerror=this.onload=null;for(var e=0,a=v;e<a.length;e++){var s=a[e];s(null,t)}v=null},t.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+e),t)}}function r(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t=!0,a=!1,s=void 0;try{for(var i,l=v[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var n=i.value;n(null,e)}}catch(r){a=!0,s=r}finally{try{t||null==l.return||l.return()}finally{if(a)throw s}}v=null}}}a&&s&&(g()?s(null,a):v.push(s))},_=y,w="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/langs/zh_CN.js",k={name:"Tinymce",components:{editorImage:h},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;_(w,function(t){t?e.$message.error(t.message):e.initTinymce()})},initTinymce:function(){var e=this,t=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:b,menubar:this.menubar,plugins:f,end_container_on_empty_block:!0,powerpaste_word_import:"merge",powerpaste_html_import:"merge",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,external_plugins:{powerpaste:"/util/Powerpaste/plugin.min.js"},init_instance_callback:function(a){t.value&&a.setContent(t.value),t.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",a.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){e&&window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))})}}},C=k,S=(a("686a"),Object(u["a"])(C,s,i,!1,null,"147fde42",null));t["a"]=S.exports},8502:function(e,t,a){"use strict";var s=a("fbb7"),i=a.n(s);i.a},"8ed5":function(e,t,a){"use strict";var s=a("d0ed"),i=a.n(s);i.a},b932:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-search-bar clearfix"},[a("div",{staticClass:"app-search-left dib-wrap"},[e.searchData.quickList.length>0?a("div",{staticClass:"search-item dib"},[a("el-input",{attrs:{size:"small",placeholder:"请输入关键字",clearable:""},on:{clear:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchQuick.searchValue,callback:function(t){e.$set(e.searchQuick,"searchValue",t)},expression:"searchQuick.searchValue"}},[a("el-select",{attrs:{slot:"prepend",size:"small"},slot:"prepend",model:{value:e.searchQuick.searchType,callback:function(t){e.$set(e.searchQuick,"searchType",t)},expression:"searchQuick.searchType"}},e._l(e.searchData.quickList,function(t,s){return a("el-option",e._b({key:s},"el-option",t,!1))}),1)],1)],1):e._e(),e._v(" "),e._l(e.searchData.searchList,function(t,s){return a("div",{key:s,staticClass:"search-item dib"},["select"===t.type?[a("el-select",{attrs:{clearable:t.clearable,placeholder:t.placeholder,disabled:t.disabled,size:"small"},on:{change:function(t){return e.search()}},model:{value:e.searchParams[t.prop],callback:function(a){e.$set(e.searchParams,t.prop,a)},expression:"searchParams[searchItem.prop]"}},e._l(t.list,function(t){return a("el-option",e._b({key:t.value},"el-option",t,!1))}),1)]:e._e()],2)}),e._v(" "),e._t("left"),e._v(" "),a("div",{staticClass:"search-item dib"},[a("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),e._t("leftBtn")],2)],2),e._v(" "),a("div",{staticClass:"app-search-right dib-wrap"},[e._t("right")],2)])},i=[],l=(a("ac6a"),a("386d"),{name:"SearchBar",props:{searchData:{type:Object,default:function(){return{quickList:[],searchList:[],page:{size:20,current:1}}}},autoLoad:{type:Boolean,default:!0}},data:function(){return{searchQuick:{searchType:"",searchValue:""},searchParams:{size:20,current:1}}},watch:{searchData:{deep:!0,handler:function(e,t){this.initParams()}}},created:function(){var e=this;this.initParams(function(){e.search()})},methods:{initParams:function(e){var t=this;this.searchData.searchList.forEach(function(e){t.$set(t.searchParams,e.prop,e.defaultValue||"")}),this.searchData.quickList.length>0&&(this.searchQuick.searchType=this.searchData.quickList[0].value),this.searchParams.size=this.searchData.page.size,this.searchParams.current=this.searchData.page.current,e&&this.autoLoad&&e()},getParams:function(){var e=Object.assign({},this.searchParams);return this.searchData.quickList.length>0&&(e[this.searchQuick.searchType]=this.searchQuick.searchValue),e},search:function(e){this.searchParams.current=1;var t=this.getParams();e&&(t=Object.assign({},t,e||{})),this.$emit("search",t)},reset:function(){this.searchQuick.searchValue="",this.$emit("reset"),this.initParams(),this.search()},resetSearch:function(){this.searchQuick.searchValue="",this.$emit("reset"),this.initParams()}}}),n=l,r=a("2877"),c=Object(r["a"])(n,s,i,!1,null,null,null);t["a"]=c.exports},bcc7:function(e,t,a){},d0ed:function(e,t,a){},df28:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{ref:"refSelect",attrs:{value:e.valueTitle,clearable:e.clearable,size:e.size},on:{clear:e.clearHandle}},[a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[a("el-tree",{ref:"selectTree",attrs:{id:"tree-option","filter-node-method":e.filterNode,accordion:e.accordion,data:e.data,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},i=[],l=(a("ac6a"),a("c5f6"),{name:"ElTreeSelect",props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},size:{type:String,default:"medium"},data:{type:Array,default:function(){return[]}},value:{type:[Number,String],default:null},clearable:{type:Boolean,default:!0},accordion:{type:Boolean,default:!1}},data:function(){return{valueId:null,valueTitle:"",defaultExpandedKey:[]}},watch:{value:function(){this.valueId=this.value,this.initHandle()}},mounted:function(){this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]),this.initScroll()},initScroll:function(){this.$nextTick(function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach(function(e){e.style.width=0})})},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("change",this.valueId,e),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("change",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach(function(e){return e.classList.remove("is-current")})},blur:function(){this.$refs["refSelect"].blur()}}}),n=l,r=(a("8ed5"),a("2877")),c=Object(r["a"])(n,s,i,!1,null,"341f77a3",null);t["a"]=c.exports},e4e4:function(e,t,a){"use strict";var s=a("1288"),i=a.n(s);i.a},ef09:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-select-product",attrs:{title:"选择商品",visible:e.show,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"app-table"},[a("search-bar",{ref:"refSearch",staticClass:"search-bar",attrs:{"search-data":e.searchData,"auto-load":!1},on:{search:e.query}},[a("template",{slot:"left"},[a("div",{staticClass:"search-item dib"},[a("el-select",{attrs:{placeholder:"是否抱团",size:"small",disabled:e.huddleDisabled},on:{change:e.changeHuddle},model:{value:e.searchParams.huddle,callback:function(t){e.$set(e.searchParams,"huddle",t)},expression:"searchParams.huddle"}},e._l(e.huddleData,function(t){return a("el-option",e._b({key:t.value},"el-option",t,!1))}),1)],1),e._v(" "),a("div",{staticClass:"search-item dib"},[a("el-select",{attrs:{placeholder:"俱乐部",size:"small",clearable:"",disabled:e.clubDisabled},on:{change:e.changeClub},model:{value:e.searchParams.club,callback:function(t){e.$set(e.searchParams,"club",t)},expression:"searchParams.club"}},e._l(e.clubData,function(t){return a("el-option",e._b({key:t.value},"el-option",t,!1))}),1)],1),e._v(" "),a("div",{staticClass:"search-item dib"},[a("el-tree-select",{ref:"refTreeSelect",attrs:{clearable:!0,data:e.treeData,props:e.defaultProps,size:"small",accordion:!0},on:{change:e.changeClass},model:{value:e.classId,callback:function(t){e.classId=t},expression:"classId"}})],1)]),e._v(" "),e.multiple?a("template",{slot:"right"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.batchAdd}},[e._v("批量添加")])],1):e._e()],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.multiple,expression:"multiple"}]},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:e.tableData,height:450},on:{"select-all":e.handleSelect,select:e.handleSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productCode",label:"商品编号","min-width":"120",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"商品名称","min-width":"150",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"商品品种","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(1===t.row.huddle?"抱团":"尚划算")+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"club",label:"所属俱乐部","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.businessAttrList,function(t){return[0!==t.club?a("span",{key:t.club,staticClass:"club-tag"},[e._v(e._s(1===t.club?"乐赛仙":2===t.club?"佐安堂":"初心"))]):e._e()]})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"spec",label:"商品规格","min-width":"150",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产厂家","min-width":"120",align:"left","show-overflow-tooltip":""}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.multiple,expression:"!multiple"}]},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:e.tableData,height:450},on:{"select-all":e.handleSelect,select:e.handleSelect}},[a("el-table-column",{attrs:{prop:"productCode",label:"商品编号","min-width":"120",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"商品名称","min-width":"150",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"商品品种","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(1===t.row.huddle?"抱团":"尚划算")+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"club",label:"所属俱乐部","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.huddle?e._l(t.row.businessAttrList,function(t){return a("span",{key:t.club,staticClass:"club-tag"},[e._v(e._s(1===t.club?"乐赛仙":2===t.club?"佐安堂":"初心"))])}):[e._v("\n                            -\n                        ")]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"spec",label:"商品规格","min-width":"150",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产厂家","min-width":"120",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.choseItem(t.row)}}},[e._v("添加")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper",small:"","current-page":e.searchData.page.current,"page-size":e.searchData.page.size,"page-sizes":[50,100,200,500],total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)],1)])},i=[],l=(a("ac6a"),a("386d"),a("feb7")),n=a("2934"),r=a("b932"),c=a("df28"),o={name:"WinProductListAddRelation",components:{searchBar:r["a"],elTreeSelect:c["a"]},props:{multiple:{type:Object,default:function(){return!1}},huddleDisabled:{type:Boolean,default:function(){return!1}},clubDisabled:{type:Boolean,default:function(){return!1}}},data:function(){return{edit:!1,loading:!1,searchData:{quickList:[{label:"按商品编号",value:"productCode"},{label:"按商品名称",value:"commodityName"},{label:"按生产厂家",value:"manufacture"}],searchList:[],page:{size:50,current:1}},searchParams:{isReady:1,status:2,huddle:1,club:1},defaultProps:{children:"childrenList",label:"className",value:"sid"},huddleData:[{label:"抱团",value:1},{label:"尚划算",value:0}],clubData:[{label:"乐赛仙",value:1},{label:"佐安堂",value:2},{label:"初心",value:3}],classId:"",tableData:[],tableLoading:!1,page:{total:0},selection:[],show:!1}},created:function(){},methods:{open:function(e,t){var a=this;if(this.edit=!0,this.loading=!1,this.callback=e,this.show=!0,t)for(var s in t)this.searchParams[s]=t[s];this.$nextTick(function(){a.fetchProductClass(),a.$refs["table"].doLayout(),a.$refs["refSearch"].search()})},choseItem:function(e){this.callback(e),this.show=!1},close:function(){this.show=!1},query:function(e){var t=this;this.tableLoading=!0,Object(l["c"])(Object.assign({},e,this.searchParams)).then(function(e){t.tableData=e.data.data.records||[],t.page.total=e.data.data.total,t.tableLoading=!1})},fetchProductClass:function(){var e=this;this.searchParams.secondClassSid="",this.searchParams.firstClassSid="",Object(n["a"])({parentSid:0,club:this.searchParams.club}).then(function(t){var a=t.data.data;a.records&&a.records.forEach(function(e){e.childrenList&&e.childrenList.forEach(function(e){delete e.childrenList})}),e.treeData=a.records||[]})},sizeChange:function(e){this.$refs["refSearch"].search({size:e})},pageChange:function(e){this.$refs["refSearch"].search({current:e})},handleSelect:function(e){this.selection=e},changeHuddle:function(e){var t=this;this.searchParams.club=1===e?1:"",this.$refs["refTreeSelect"].clearHandle(),this.$nextTick(function(){t.fetchProductClass(),t.$refs["refSearch"].search()})},changeClub:function(e){var t=this;this.$refs["refTreeSelect"].clearHandle(),this.$nextTick(function(){t.fetchProductClass(),t.$refs["refSearch"].search()})},changeClass:function(e,t){t&&(0===t.parentSid?(this.searchParams.secondClassSid="",this.searchParams.firstClassSid=e):(this.searchParams.firstClassSid="",this.searchParams.secondClassSid=e)),this.$refs["refTreeSelect"].blur(),this.$refs["refSearch"].search()},batchAdd:function(){this.callback(this.selection),this.show=!1}}},u=o,d=(a("e4e4"),a("2877")),h=Object(d["a"])(u,s,i,!1,null,null,null);t["a"]=h.exports},fbb7:function(e,t,a){}}]);