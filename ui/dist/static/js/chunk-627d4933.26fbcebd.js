(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-627d4933"],{"046a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"app-search-bar clearfix"},[a("div",{staticClass:"app-search-right"},[a("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")])],1)]),e._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{attrs:{data:e.tableData,height:e.height}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",label:"备注信息","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.update(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":e.page.currentPage,"page-size":e.page.pageSize,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1),e._v(" "),a("win-dict",{ref:"refDict"})],1)},i=[],n=a("db72"),s=a("b775"),o=a("700d");function l(e){return Object(s["a"])({baseURL:o["a"],url:"/admin/dict/page",method:"get",params:e})}function c(e){return Object(s["a"])({baseURL:o["a"],url:"/admin/dict/",method:"post",data:e})}function u(e){return Object(s["a"])({baseURL:o["a"],url:"/admin/dict/"+e.id,method:"delete"})}function p(e){return Object(s["a"])({baseURL:o["a"],url:"/admin/dict/",method:"put",data:e})}var d=a("2f62"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-auth-role",attrs:{title:e.edit?"编 辑":"新 增",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"medium","label-width":"96px"}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"type",label:"类型"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入字典类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"description",label:"描述"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"sort",label:"排序"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入排序"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"remarks",label:"备注信息"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入备注信息"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},m=[],h={name:"WinRole",components:{},data:function(){return{edit:!1,loading:!1,form:{type:"",description:"",sort:null,remarks:""},rules:{type:[{required:!0,message:"请输入字典类型",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],remarks:[{required:!0,message:"请输入备注信息",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}]},show:!1}},watch:{},created:function(){},methods:{add:function(e){var t=this;this.edit=!1,this.loading=!1,this.callback=e,this.checkedDsScope=[],this.show=!0,this.$nextTick(function(){t.$refs["ruleForm"].resetFields()})},update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.checkedDsScope=[],this.show=!0,this.$nextTick(function(){for(var t in a.$refs["ruleForm"].resetFields(),a.form)e[t]&&(a.form[t]=e[t])})},save:function(){var e=this;this.$refs["ruleForm"].validate(function(t){if(!t)return!1;e.loading=!0;var a=Object.assign({},e.form);e.callback(a)})},close:function(){this.show=!1}}},g=h,b=(a("c9de"),a("2877")),v=Object(b["a"])(g,f,m,!1,null,null,null),y=v.exports,w={name:"PageSystemDict",components:{WinDict:y},data:function(){return{tableData:[],page:{total:0,currentPage:1,pageSize:20}}},computed:Object(n["a"])({},Object(d["b"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205}}),created:function(){this.query()},methods:{query:function(){var e=this;this.listLoading=!0,l(Object.assign({current:this.page.currentPage,size:this.page.pageSize},this.searchParams)).then(function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total,e.listLoading=!1})},sizeChange:function(e){this.page.pageSize=e,this.query()},pageChange:function(e){this.page.currentPage=e,this.query()},create:function(){var e=this;this.$refs["refDict"].add(function(t){c(t).then(function(){e.$refs["refDict"].loading=!1,e.$refs["refDict"].close(),e.query(),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}).catch(function(){e.$refs["refDict"].loading=!1})})},remove:function(e){var t=this;this.$confirm('是否确认删除数据类型为"'+e.type+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return u(e)}).then(function(){t.query(),t.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(){})},update:function(e){var t=this;this.$refs["refDict"].update(e,function(e){p(e).then(function(){t.query(),t.$refs["refDict"].loading=!1,t.$refs["refDict"].close(),t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refDict"].loading=!1})})}}},k=w,x=Object(b["a"])(k,r,i,!1,null,null,null);t["default"]=x.exports},bc3b:function(e,t,a){},c9de:function(e,t,a){"use strict";var r=a("bc3b"),i=a.n(r);i.a}}]);