(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-483970c5"],{"16e6":function(t,e,a){"use strict";var r=a("43ee"),n=a.n(r);n.a},"386d":function(t,e,a){"use strict";var r=a("cb7c"),n=a("83a1"),i=a("5f1b");a("214f")("search",1,function(t,e,a,s){return[function(a){var r=t(this),n=void 0==a?void 0:a[e];return void 0!==n?n.call(a,r):new RegExp(a)[e](String(r))},function(t){var e=s(a,t,this);if(e.done)return e.value;var c=r(t),o=String(this),u=c.lastIndex;n(u,0)||(c.lastIndex=0);var d=i(c,o);return n(c.lastIndex,u)||(c.lastIndex=u),null===d?-1:d.index}]})},"43ee":function(t,e,a){},"4ee4":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container calendar-list-container area-box"},[a("el-row",[a("el-col",{staticClass:"left-box",style:{height:t.height+"px"},attrs:{span:3}},[a("div",{staticClass:"left-title"},[a("div",[t._v("地区")])]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-input",{attrs:{placeholder:"请输入区域",size:"small"},model:{value:t.areaContent,callback:function(e){t.areaContent=e},expression:"areaContent"}})],1),t._v(" "),a("el-tree",{staticClass:"filter-tree",style:[{"margin-top":"15px"},{height:t.height-100+"px"}],attrs:{data:t.treeData,props:t.defaultProps,"node-key":"id","highlight-current":"",accordion:"","default-expanded-keys":[0]},on:{"node-click":t.handleNodeClick}})],1),t._v(" "),a("el-col",{staticClass:"right-box",attrs:{span:21}},[a("div",{staticClass:"left-title"},[t._v("关联会员")]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("search-bar",{ref:"refSearch",attrs:{"search-data":t.searchData,"auto-load":!0},on:{search:t.query}})],1),t._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.userData,"header-cell-style":{background:"#eef3f6"},height:t.height-130}},[a("el-table-column",{attrs:{prop:"userCode",label:"会员编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"businessName",label:"会员名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clubCn",label:"所属俱乐部",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"businessTypeCn",label:"单位类型",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":t.searchData.page.current,"page-size":t.searchData.page.size,total:t.page.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange}})],1)])],1),t._v(" "),a("win-area",{ref:"refArea"})],1)},n=[],i=(a("ac6a"),a("386d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"el-win-member-list-area",attrs:{title:"设置区域",visible:t.show,"close-on-click-modal":!1},on:{"update:visible":function(e){t.show=e}}},[a("el-col",{staticClass:"left-box",attrs:{span:10}},[a("div",{staticClass:"title left-text"},[t._v("供应商")]),t._v(" "),t._l(t.supplierData,function(e){return a("div",{key:e,staticClass:"area-box left-text",on:{click:function(a){return t.checkSupplier(e.sid)}}},[t._v(t._s(e.name))])})],2),t._v(" "),a("el-col",{staticClass:"right-box",attrs:{span:13}},[a("el-tree",{ref:"refTree",attrs:{data:t.treeData,props:t.defaultProps,"node-key":"id","highlight-current":"",accordion:"","default-expanded-keys":[0],"show-checkbox":""},on:{check:t.handleNodeClick}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.save}},[t._v("保 存")])],1)],1)}),s=[],c=a("df0b"),o=a("b775"),u=a("700d");function d(t){return Object(o["a"])({baseURL:u["a"],url:"/member/admin/supply/areaList/".concat(t.sid),method:"GET",params:t})}var l=a("feb7"),p={data:function(){return{loading:!1,show:!1,supplierData:[],treeData:[{id:0,name:"全部",areaList:[]}],supplierSid:"",defaultProps:{children:"areaList",label:"name"}}},watch:{supplierSid:function(t,e){if(""!==e){this.supplierData.filter(function(t){return t.sid===e})[0].selectedData=this.$refs["refTree"].getCheckedNodes();var a=this.supplierData.filter(function(e){return e.sid===t})[0].selectedData;a?this.$refs["refTree"].setCheckedNodes(a):this.getSupplierArea()}}},created:function(){this.getAllSupply()},methods:{getAllSupply:function(){var t=this;Object(c["a"])().then(function(e){t.supplierData=e.data.data.records,t.supplierSid=t.supplierData[0].sid,t.getAreas()})},getAreas:function(t){var e=this;Object(l["b"])({node:1}).then(function(t){var a=t.data.data;e.treeData[0].areaList=a})},getSupplierArea:function(){var t=this;d({sid:this.supplierSid}).then(function(e){var a=e.data.data;t.supplierData.filter(function(e){return e.sid===t.supplierSid})[0].selectedData=a,t.$refs["refTree"].setCheckedNodes(a)})},checkSupplier:function(t){this.supplierSid=t},update:function(t){var e=this;this.loading=!1,this.callback=t,this.show=!0,this.supplierData.length>0?this.$nextTick(function(){e.getSupplierArea()}):this.getAllSupply()},save:function(){this.loading=!0,this.show=!1;var t=Object.assign({},this.form);this.callback(t)}}},f=p,h=(a("16e6"),a("2877")),b=Object(h["a"])(f,i,s,!1,null,null,null),m=b.exports,g=a("b932"),v=a("ed7f"),L={name:"PageSupplierArea",components:{WinArea:m,searchBar:g["a"]},data:function(){return{areaContent:"",treeData:[{id:0,name:"全部",areaList:[]}],defaultProps:{children:"areaList",label:"name"},userData:[{num:1111,name:"summer",club:"Yiyangqianxi",type:"吃喝玩乐"}],searchData:{quickList:[{label:"会员编号",value:"userCode"},{label:"会员名称",value:"businessName"}],searchList:[],page:{size:20,current:1}},searchParams:{province_sid:"",city_sid:"",area_sid:""},page:{total:0},tableLoading:!1}},computed:{height:function(){return this.$store.getters.winHeight-115}},created:function(){this.getAreas(),this.query()},methods:{setArea:function(){this.$refs["refArea"].update(function(t){})},getAreas:function(t){var e=this;Object(l["b"])({node:1}).then(function(t){var a=t.data.data;e.treeData[0].areaList=a})},query:function(t){var e=this;this.tableLoading=!0,Object(v["e"])(Object.assign({},t,this.searchParams)).then(function(t){e.userData=t.data.data.records,e.page.total=t.data.data.total,e.tableLoading=!1})},search:function(){this.$refs["refSearch"].search()},sizeChange:function(t){this.$refs["refSearch"].search({size:t})},pageChange:function(t){this.$refs["refSearch"].search({current:t})},handleNodeClick:function(t){var e=t.node;switch(e){case 1:this.searchParams.province_sid=t.id,this.searchParams.city_sid="",this.searchParams.area_sid="";break;case 2:this.searchParams.province_sid="",this.searchParams.city_sid=t.id,this.searchParams.area_sid="";break;case 3:this.searchParams.province_sid="",this.searchParams.city_sid="",this.searchParams.area_sid=t.id;break}this.search()},toggleRowSelection:function(){var t=this;this.$nextTick(function(){t.tableData.forEach(function(e){var a=t.areas.filter(function(t){return 1*t.areaCode===1*e.areaCode});1===a.length?t.$refs["table"].toggleRowSelection(e,!0):t.$refs["table"].toggleRowSelection(e,!1)})})}}},j=L,O=(a("d52d"),Object(h["a"])(j,r,n,!1,null,"694abaa4",null));e["default"]=O.exports},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"9ef2":function(t,e,a){},d52d:function(t,e,a){"use strict";var r=a("9ef2"),n=a.n(r);n.a},df0b:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"c",function(){return c}),a.d(e,"d",function(){return o});var r=a("b775"),n=a("700d");function i(){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/supply",method:"get"})}function s(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/supply/userInfoPage",method:"get",params:t})}function c(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/supply/setUserSupply",method:"put",data:t})}function o(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/supply/userSupplyLogPage",method:"get",params:t})}},ed7f:function(t,e,a){"use strict";a.d(e,"e",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"d",function(){return c}),a.d(e,"g",function(){return o}),a.d(e,"i",function(){return u}),a.d(e,"a",function(){return d}),a.d(e,"f",function(){return l}),a.d(e,"c",function(){return p}),a.d(e,"h",function(){return f});var r=a("b775"),n=a("700d");function i(t){return Object(r["a"])({baseURL:n["a"],url:"/k3/customer/list",method:"get",params:t})}function s(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/userInfo/bindUser/".concat(t.sid),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"put",params:t})}function c(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/spuControl/page/".concat(t.userInfoSid),method:"get",params:t})}function o(t){return Object(r["a"])({baseURL:n["a"],headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/member/admin/userInfo/reSetPwd/".concat(t.sid),method:"put",params:t})}function u(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/userInfo/openStatus/".concat(t.userSid),method:"put",params:t})}function d(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/spuControl/".concat(t.userInfoSid),method:"post",data:t.list})}function l(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/spuControl/".concat(t.userInfoSid),method:"put",data:t})}function p(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/spuControl/".concat(t.sid),method:"delete"})}function f(t){return Object(r["a"])({baseURL:n["a"],url:"/member/admin/userInfo/setBillType/".concat(t.sid,"/").concat(t.billType),method:"PUT",data:t})}},feb7:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"i",function(){return s}),a.d(e,"f",function(){return c}),a.d(e,"n",function(){return o}),a.d(e,"b",function(){return u}),a.d(e,"d",function(){return d}),a.d(e,"k",function(){return l}),a.d(e,"p",function(){return p}),a.d(e,"o",function(){return f}),a.d(e,"m",function(){return h}),a.d(e,"l",function(){return b}),a.d(e,"q",function(){return m}),a.d(e,"g",function(){return g}),a.d(e,"e",function(){return v}),a.d(e,"h",function(){return L}),a.d(e,"r",function(){return j}),a.d(e,"j",function(){return O}),a.d(e,"a",function(){return x});var r=a("b775"),n=a("700d");function i(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/page",method:"get",params:t})}function s(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/relation/list/".concat(t.productSid),method:"get",params:t})}function c(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/relation/productList/page",method:"get",params:t})}function o(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/relation",method:"put",data:t})}function u(t){return Object(r["a"])({baseURL:n["a"],url:"/admin/external/area/treeInfo",method:"get",params:t})}function d(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/area/".concat(t.sid),method:"get",params:t})}function l(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/".concat(t.sid,"/area"),method:"put",data:t.area})}function p(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/saleStatus",method:"put",data:t})}function f(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/risePrice/".concat(t.sid),method:"put",data:t.prices})}function h(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/price/audit",method:"POST",data:t})}function b(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/showIndex/".concat(t.sid),method:"put",data:t.index})}function m(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/label/relation",method:"post",data:t})}function g(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/sku/list/".concat(t.sid),method:"get",params:t})}function v(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/info/".concat(t.sid),method:"get",params:t})}function L(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/label/page",method:"get",params:t})}function j(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/headSales",method:"post",data:t})}function O(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/inspectionReport/batchUpload/".concat(t.sid),method:"post",data:t.report})}function x(t){return Object(r["a"])({baseURL:n["a"],url:"/product/admin/product/createIndexBySid/".concat(t.sid),method:"get",params:t})}}}]);