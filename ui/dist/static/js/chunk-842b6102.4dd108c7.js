(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-842b6102"],{"13d2":function(e,t,a){},2934:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a("b775"),r=a("700d");function i(e){return Object(n["a"])({baseURL:r["a"],url:"/product/admin/productClass/industryClass/all",method:"get",params:e})}},"386d":function(e,t,a){"use strict";var n=a("cb7c"),r=a("83a1"),i=a("5f1b");a("214f")("search",1,function(e,t,a,s){return[function(a){var n=e(this),r=void 0==a?void 0:a[t];return void 0!==r?r.call(a,n):new RegExp(a)[t](String(n))},function(e){var t=s(a,e,this);if(t.done)return t.value;var l=n(e),o=String(this),c=l.lastIndex;r(c,0)||(l.lastIndex=0);var u=i(l,o);return r(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]})},5118:function(e,t,a){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},a("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},"53a8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container app-other-icon"},[a("search-bar",{ref:"refSearch",attrs:{"search-data":e.searchData,"auto-load":!0},on:{search:e.query}},[a("template",{slot:"right"},[a("div",{staticClass:"app-search-right"},[a("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")])],1)])],2),e._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,height:e.height,stripe:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"imgUrl",label:"图片","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{attrs:{src:e.ossURL+t.row.iconUrl,fit:"contain"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"入口名称","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clubName",label:"展示俱乐部","min-width":"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"是否展示","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1===t.row.statusCode?a("el-tag",{attrs:{type:"danger",size:"mini",effect:"plain"}},[e._v("已删除")]):1===t.row.statusCode?a("el-tag",{attrs:{type:"info",size:"mini",effect:"plain"}},[e._v("不展示")]):e._e(),e._v(" "),0===t.row.statusCode?a("el-tag",{attrs:{type:"success",size:"mini",effect:"plain"}},[e._v("可用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"显示顺序","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"linkUrl",label:"链接","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.update(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":e.searchData.page.current,"page-size":e.searchData.page.size,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1),e._v(" "),a("win-banner",{ref:"refBanner"})],1)},r=[],i=(a("386d"),a("db72")),s=a("b775"),l=a("700d");function o(e){return Object(s["a"])({baseURL:l["a"],url:"/cms/admin/index/icon/page",method:"get",params:e})}function c(e){return Object(s["a"])({baseURL:l["a"],url:"/cms/admin/index/icon",method:"post",data:e})}function u(e){return Object(s["a"])({baseURL:l["a"],url:"/cms/admin/index/".concat(e.sid),method:"delete"})}function f(e){return Object(s["a"])({baseURL:l["a"],url:"/cms/admin/index/icon",method:"put",data:e})}var d=a("2f62"),m=a("b932"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-other-icon",attrs:{title:e.edit?"编 辑":"新 增",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"medium","label-width":"96px"}},[a("el-form-item",{attrs:{prop:"title",label:"入口名称"}},[a("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"club",label:"展示范围"}},[a("el-checkbox-group",{model:{value:e.form.club,callback:function(t){e.$set(e.form,"club",t)},expression:"form.club"}},[a("el-checkbox",{attrs:{label:0,name:"club"}},[e._v("乐赛仙")]),e._v(" "),a("el-checkbox",{attrs:{label:1,name:"club"}},[e._v("佐安堂")]),e._v(" "),a("el-checkbox",{attrs:{label:2,name:"club"}},[e._v("初心")]),e._v(" "),a("el-checkbox",{attrs:{label:3,name:"club"}},[e._v("尚划算")])],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"iconUrl",label:"ICON图片"}},[a("image-upload",{attrs:{multiple:!1},scopedSlots:e._u([{key:"tips",fn:function(){return[a("p",{staticClass:"tips-word"},[e._v("点击上传")])]},proxy:!0}]),model:{value:e.form.iconUrl,callback:function(t){e.$set(e.form,"iconUrl",t)},expression:"form.iconUrl"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"type",label:"跳转类型"}},[a("el-radio-group",{on:{change:e.changeType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{label:1,name:"type"}},[e._v("内部地址")]),e._v(" "),a("el-radio",{attrs:{label:2,name:"type"}},[e._v("网页地址")]),e._v(" "),a("el-radio",{attrs:{label:3,name:"type"}},[e._v("分类地址")])],1)],1),e._v(" "),3===e.form.type?[a("el-form-item",{attrs:{prop:"linkUrl",label:"分类ID"}},[a("el-select",{model:{value:e.form.linkUrl,callback:function(t){e.$set(e.form,"linkUrl",t)},expression:"form.linkUrl"}},e._l(e.treeData,function(e){return a("el-option",{key:e.sid,attrs:{label:e.className,value:e.sid}})}),1)],1)]:[a("el-form-item",{attrs:{prop:"linkUrl",label:"链接地址"}},[a("el-input",{model:{value:e.form.linkUrl,callback:function(t){e.$set(e.form,"linkUrl",t)},expression:"form.linkUrl"}})],1)],e._v(" "),a("el-form-item",{attrs:{prop:"sort",label:"显示顺序"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,"step-strictly":!0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"是否展示"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:0,name:"status"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:1,name:"status"}},[e._v("否")])],1)],1)],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},h=[],b=(a("ac6a"),a("4a9d")),g=a("2934"),v={name:"WinIcon",components:{imageUpload:b["a"]},data:function(){return{edit:!1,loading:!1,treeData:[],defaultProps:{children:"childrenList",label:"className",value:"sid"},form:{title:"",club:[],type:1,iconUrl:"",sort:0,linkUrl:"",status:0},rules:{title:[{required:!0,message:"请选择Banner类型",trigger:"blur"}],club:[{type:"array",required:!0,message:"请选择展示范围",trigger:"change"}],type:[{required:!0,message:"请选择Banner类型",trigger:"change"}],iconUrl:[{required:!0,message:"请上传电脑端图片",trigger:"change"}],sort:[{required:!0,message:"请输入排序",trigger:"blur"}],linkUrl:[{required:!0,message:"此项为必填",trigger:"blur"}],status:[{required:!0,message:"请选择是否展示",trigger:"blur"}]},show:!1}},methods:{add:function(e){var t=this;this.edit=!1,this.loading=!1,this.callback=e,this.fetchProductClass(),this.show=!0,this.$nextTick(function(){t.$refs["ruleForm"].resetFields(),t.form.iconUrl=""})},update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.fetchProductClass(),this.callback=t,this.show=!0,this.$nextTick(function(){for(var t in a.$refs["ruleForm"].resetFields(),a.form.club=[],a.form)if(null!=e[t])switch(t){default:a.form[t]=e[t];break;case"club":"1"===e.club.substring(0,1)&&a.form.club.push(0),"1"===e.club.substring(1,2)&&a.form.club.push(1),"1"===e.club.substring(2,3)&&a.form.club.push(2),"1"===e.club.substring(3,4)&&a.form.club.push(3);break}a.form.status=e.statusCode,3===e.type&&(a.form.linkUrl=1*e.linkUrl),a.form.sid=e.sid})},save:function(){var e=this;this.$refs["ruleForm"].validate(function(t){if(!t)return!1;e.loading=!0;for(var a=Object.assign({},e.form),n=[0,0,0,0],r=0;r<e.form.club.length;r++)n[e.form.club[r]]=1;a.club=n.join(""),e.callback(a)})},fetchProductClass:function(){var e=this;Object(g["a"])({parentSid:0}).then(function(t){var a=t.data.data;a.records&&a.records.forEach(function(t){0===t.parentSid&&e.treeData.push(t)})})},changeType:function(e){this.form.linkUrl=""},close:function(){this.show=!1}}},_=v,y=(a("bda4"),a("2877")),k=Object(y["a"])(_,p,h,!1,null,null,null),w=k.exports,x=a("5118"),$={name:"PageOtherIcon",components:{searchBar:m["a"],WinBanner:w},data:function(){return{ossURL:this.$store.getters.oss_url+"/",searchData:{quickList:[{label:"按入口名称",value:"title"}],searchList:[{prop:"club",placeholder:"展示俱乐部",type:"select",clearable:!0,list:[{label:"乐赛仙",value:"1"},{label:"佐安堂",value:"2"},{label:"初心",value:"3"},{label:"尚划算",value:"4"}]}],page:{size:20,current:1}},tableData:[],tableLoading:!1,page:{total:0}}},computed:Object(i["a"])({},Object(d["b"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205}}),methods:{query:function(e){var t=this;this.tableLoading=!0,this.timer&&Object(x["clearTimeout"])(this.timer),this.timer=Object(x["setTimeout"])(function(){o(Object.assign({},e)).then(function(e){t.tableData=e.data.data.records,t.page.total=e.data.data.total,t.tableLoading=!1})},800)},sizeChange:function(e){this.$refs["refSearch"].search({size:e})},pageChange:function(e){this.$refs["refSearch"].search({current:e})},create:function(){var e=this;this.$refs["refBanner"].add(function(t){c(t).then(function(){e.$refs["refBanner"].loading=!1,e.$refs["refBanner"].close(),e.$refs["refSearch"].search(),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}).catch(function(){e.$refs["refBanner"].loading=!1})})},remove:function(e){var t=this;this.$confirm("是否确认删除数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return u(e)}).then(function(){t.$refs["refSearch"].search(),t.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(){})},update:function(e){var t=this;this.$refs["refBanner"].update(e,function(e){f(e).then(function(){t.$refs["refSearch"].search(),t.$refs["refBanner"].loading=!1,t.$refs["refBanner"].close(),t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refBanner"].loading=!1})})}}},U=$,T=(a("7ff1"),Object(y["a"])(U,n,r,!1,null,"a1c75752",null));t["default"]=T.exports},6017:function(e,t,a){(function(e,t){(function(e,a){"use strict";if(!e.setImmediate){var n,r=1,i={},s=!1,l=e.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(e);o=o&&o.setTimeout?o:e,"[object process]"==={}.toString.call(e.process)?m():p()?h():e.MessageChannel?b():l&&"onreadystatechange"in l.createElement("script")?g():v(),o.setImmediate=c,o.clearImmediate=u}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var s={callback:e,args:t};return i[r]=s,n(r),r++}function u(e){delete i[e]}function f(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(a,n);break}}function d(e){if(s)setTimeout(d,0,e);else{var t=i[e];if(t){s=!0;try{f(t)}finally{u(e),s=!1}}}}function m(){n=function(e){t.nextTick(function(){d(e)})}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}function h(){var t="setImmediate$"+Math.random()+"$",a=function(a){a.source===e&&"string"===typeof a.data&&0===a.data.indexOf(t)&&d(+a.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(a){e.postMessage(t+a,"*")}}function b(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)},n=function(t){e.port2.postMessage(t)}}function g(){var e=l.documentElement;n=function(t){var a=l.createElement("script");a.onreadystatechange=function(){d(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a)}}function v(){n=function(e){setTimeout(d,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,a("c8ba"),a("4362"))},"7ff1":function(e,t,a){"use strict";var n=a("ffbe"),r=a.n(n);r.a},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},bda4:function(e,t,a){"use strict";var n=a("13d2"),r=a.n(n);r.a},ffbe:function(e,t,a){}}]);