(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-470cd463"],{"44c7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"app-search-bar clearfix"},[a("div",{staticClass:"app-search-right"},[a("el-button",{staticClass:"filter-item",attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:e.create}},[e._v("添加")])],1)]),e._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{attrs:{data:e.tableData,height:e.height}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientId",label:"编号","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientSecret",label:"密钥","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scope",label:"域","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"authorizedGrantTypes",label:"授权模式","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"autoapprove",label:"自动放行","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accessTokenValidity",label:"令牌时效","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"refreshTokenValidity",label:"刷新时效","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.update(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":e.page.currentPage,"page-size":e.page.pageSize,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1),e._v(" "),a("win-client",{ref:"refClient"})],1)},i=[],l=a("db72"),n=a("b775"),o=a("700d");function s(e){return Object(n["a"])({baseURL:o["a"],url:"/admin/client/page",method:"get",params:e})}function c(e){return Object(n["a"])({baseURL:o["a"],url:"/admin/client/",method:"post",data:e})}function u(e){return Object(n["a"])({baseURL:o["a"],url:"/admin/client/".concat(e.clientId),method:"delete"})}function p(e){return Object(n["a"])({baseURL:o["a"],url:"/admin/client",method:"put",data:e})}var d=a("5880"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-system-client",attrs:{title:e.edit?"编 辑":"新 增",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"medium","label-width":"96px"}},[a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"clientId",label:"编号"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入编号"},model:{value:e.form.clientId,callback:function(t){e.$set(e.form,"clientId",t)},expression:"form.clientId"}})],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"clientSecret",label:"密钥"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入密钥"},model:{value:e.form.clientSecret,callback:function(t){e.$set(e.form,"clientSecret",t)},expression:"form.clientSecret"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"scope",label:"域"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入域"},model:{value:e.form.scope,callback:function(t){e.$set(e.form,"scope",t)},expression:"form.scope"}})],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"authorizedGrantTypes",label:"授权模式"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入授权模式"},model:{value:e.form.authorizedGrantTypes,callback:function(t){e.$set(e.form,"authorizedGrantTypes",t)},expression:"form.authorizedGrantTypes"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"webServerRedirectUri",label:"回调地址"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入回调地址"},model:{value:e.form.webServerRedirectUri,callback:function(t){e.$set(e.form,"webServerRedirectUri",t)},expression:"form.webServerRedirectUri"}})],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"authorities",label:"权限"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入权限"},model:{value:e.form.authorities,callback:function(t){e.$set(e.form,"authorities",t)},expression:"form.authorities"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"autoapprove",label:"自动放行"}},[a("el-radio-group",{model:{value:e.form.autoapprove,callback:function(t){e.$set(e.form,"autoapprove",t)},expression:"form.autoapprove"}},[a("el-radio",{attrs:{label:"true"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"false"}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"accessTokenValidity",label:"令牌时效"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入令牌时效"},model:{value:e.form.accessTokenValidity,callback:function(t){e.$set(e.form,"accessTokenValidity",t)},expression:"form.accessTokenValidity"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"refreshTokenValidity",label:"刷新时效"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入刷新时效"},model:{value:e.form.refreshTokenValidity,callback:function(t){e.$set(e.form,"refreshTokenValidity",t)},expression:"form.refreshTokenValidity"}})],1)],1),e._v(" "),a("el-col",{attrs:{offset:2,span:11}},[a("el-form-item",{attrs:{prop:"additionalInformation",label:"扩展信息"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入扩展信息"},model:{value:e.form.additionalInformation,callback:function(t){e.$set(e.form,"additionalInformation",t)},expression:"form.additionalInformation"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{prop:"resourceIds",label:"资源ID"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入资源ID"},model:{value:e.form.resourceIds,callback:function(t){e.$set(e.form,"resourceIds",t)},expression:"form.resourceIds"}})],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},m=[],h={name:"WinClient",data:function(){return{edit:!1,loading:!1,form:{clientId:"",clientSecret:"",scope:"",authorizedGrantTypes:"",webServerRedirectUri:"",authorities:"",autoapprove:"true",accessTokenValidity:"",refreshTokenValidity:"",additionalInformation:"",resourceIds:""},rules:{clientId:[{required:!0,message:"请输入编号",trigger:"blur"}],clientSecret:[{required:!0,message:"请输入密钥",trigger:"blur"}],scope:[{required:!0,message:"请输入域",trigger:"blur"}],authorizedGrantTypes:[{required:!0,message:"请输入授权模式",trigger:"blur"}],autoapprove:[{required:!0,message:"请选择是否自动放行",trigger:"blur"}]},show:!1}},watch:{},created:function(){},methods:{add:function(e){var t=this;this.edit=!1,this.loading=!1,this.callback=e,this.checkedDsScope=[],this.show=!0,this.$nextTick(function(){t.$refs["ruleForm"].resetFields()})},update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.checkedDsScope=[],this.show=!0,this.$nextTick(function(){for(var t in a.$refs["ruleForm"].resetFields(),a.form)e[t]&&(a.form[t]=e[t])})},save:function(){var e=this;this.$refs["ruleForm"].validate(function(t){if(!t)return!1;e.loading=!0;var a=Object.assign({},e.form);e.callback(a)})},close:function(){this.show=!1}}},g=h,b=(a("cceb"),a("2877")),v=Object(b["a"])(g,f,m,!1,null,null,null),y=v.exports,w={name:"PageSystemClient",components:{WinClient:y},data:function(){return{tableData:[],page:{total:0,currentPage:1,pageSize:20}}},computed:Object(l["a"])({},Object(d["mapGetters"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205}}),created:function(){this.query()},methods:{query:function(){var e=this;this.listLoading=!0,s(Object.assign({current:this.page.currentPage,size:this.page.pageSize},this.searchParams)).then(function(t){e.tableData=t.data.data.records,e.page.total=t.data.data.total,e.listLoading=!1})},sizeChange:function(e){this.page.pageSize=e,this.query()},pageChange:function(e){this.page.currentPage=e,this.query()},create:function(){var e=this;this.$refs["refClient"].add(function(t){c(t).then(function(){e.$refs["refClient"].loading=!1,e.$refs["refClient"].close(),e.query(),e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}).catch(function(){e.$refs["refClient"].loading=!1})})},remove:function(e){var t=this;this.$confirm('是否确认删除ID为"'+e.clientId+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return u(e)}).then(function(){t.query(),t.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(){})},update:function(e){var t=this;this.$refs["refClient"].update(e,function(e){p(e).then(function(){t.query(),t.$refs["refClient"].loading=!1,t.$refs["refClient"].close(),t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refClient"].loading=!1})})}}},k=w,x=Object(b["a"])(k,r,i,!1,null,null,null);t["default"]=x.exports},"701c":function(e,t,a){},cceb:function(e,t,a){"use strict";var r=a("701c"),i=a.n(r);i.a}}]);