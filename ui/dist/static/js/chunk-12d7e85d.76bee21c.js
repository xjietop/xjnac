(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12d7e85d"],{"19e3":function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"app-container app-member-detail"},[t("el-page-header",{attrs:{content:"会员详情"},on:{back:a.goBack}}),a._v(" "),t("el-tabs",{attrs:{type:"card"},on:{"tab-click":a.handleDetailTabClick},model:{value:a.activeName,callback:function(e){a.activeName=e},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"基础信息",name:"1"}},[t("div",{staticClass:"info-row"},[t("dl",[t("dt",[a._v("会员编号")]),a._v(" "),t("dd",[a._v(a._s(a.member.userCode||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("注册时间")]),a._v(" "),t("dd",[a._v(a._s(a.member.createTime||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("单位编号")]),a._v(" "),t("dd",[a._v(a._s(a.member.userCode||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("单位名称")]),a._v(" "),t("dd",[a._v(a._s(a.member.businessName||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("单位类型")]),a._v(" "),t("dd",[a._v(a._s(a.member.businessTypeCn||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("单位地址")]),a._v(" "),t("dd",[a._v(a._s(a.member.address||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("经营范围")]),a._v(" "),t("dd",[a._v(a._s(a.member.scopeCn||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("法人代表")]),a._v(" "),t("dd",[a._v(a._s(a.member.legalPerson||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("联系人姓名")]),a._v(" "),t("dd",[a._v(a._s(a.member.name||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("联系人电话")]),a._v(" "),t("dd",[a._v(a._s(a.member.phone||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("所属业务线")]),a._v(" "),t("dd",[a._v(a._s(a.member.clubCn||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("所属经营顾问")]),a._v(" "),t("dd",[a._v(a._s(a.member.businessConsultant||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("绑定微信")]),a._v(" "),t("dd",[a._v(a._s(a.member.wxOpenId||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("是否为GSP会员")]),a._v(" "),t("dd",[a._v(a._s(a.member.isGspCn||"暂无"))])])])]),a._v(" "),t("el-tab-pane",{attrs:{label:"开票信息",name:"2"}},[t("div",{staticClass:"info-row"},[t("dl",[t("dt",[a._v("一般纳税人")]),a._v(" "),t("dd",[a._v(a._s(a.bill.taxpayerTypeCn||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("发票类型")]),a._v(" "),t("dd",[a._v(a._s(a.bill.typeCn||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("开票人信息（抬头）")]),a._v(" "),t("dd",[a._v(a._s(a.bill.invoiceTitle||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("电子邮箱")]),a._v(" "),t("dd",[a._v(a._s(a.bill.email||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("地址，电话")]),a._v(" "),t("dd",[a._v(a._s(a.bill.defaultAddress||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("开户行及账号")]),a._v(" "),t("dd",[a._v(a._s(a.bill.bank||"暂无"))])]),a._v(" "),t("dl",[t("dt",[a._v("税务登记号")]),a._v(" "),t("dd",[a._v(a._s(a.bill.billCode||"暂无"))])])])]),a._v(" "),t("el-tab-pane",{attrs:{label:"资质信息",name:"3"}},[t("el-table",{attrs:{data:a.qualificationData}},[t("el-table-column",{attrs:{type:"index"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",label:"资质名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"endDate",label:"过期时间"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(t){return a.view(e.row)}}},[a._v("预览")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"余额信息",name:"4"},model:{value:a.accountTab.active,callback:function(e){a.$set(a.accountTab,"active",e)},expression:"accountTab.active"}},[t("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":a.queryUserAccount}},[t("el-tab-pane",{attrs:{label:"余额",name:"0"}},[t("div",{staticClass:"balance-text"},[t("span",[a._v("¥")]),a._v(" "+a._s(a.accountTab.balanceTable.balance))]),a._v(" "),t("div",{staticClass:"app-table"},[t("div",{staticClass:"app-search-bar search-bar clearfix"},[t("div",{staticClass:"app-search-left dib-wrap"},[t("div",{staticClass:"search-item dib"},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},on:{change:a.queryUserAccountDetail,clear:a.queryUserAccountDetail},model:{value:a.accountTab.balanceTable.searchParams.date,callback:function(e){a.$set(a.accountTab.balanceTable.searchParams,"date",e)},expression:"accountTab.balanceTable.searchParams.date"}})],1)])]),a._v(" "),t("el-table",{attrs:{data:a.accountTab.balanceTable.balanceData,height:a.height}},[t("el-table-column",{attrs:{prop:"createTime",label:"时间"}}),a._v(" "),t("el-table-column",{attrs:{prop:"orderCode",label:"订单编号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"accountTypeEnumName",label:"事件"}}),a._v(" "),t("el-table-column",{attrs:{prop:"amount",label:"金额"}})],1),a._v(" "),t("div",{staticClass:"app-pagination"},[t("el-pagination",{attrs:{layout:"prev, pager, next","current-page":a.accountTab.balanceTable.searchParams.current,"page-size":a.accountTab.balanceTable.searchParams.size,total:a.accountTab.balanceTable.total},on:{"size-change":a.sizeChange,"current-change":a.pageChange}})],1)],1)]),a._v(" "),t("el-tab-pane",{attrs:{label:"专项款",name:"2"}},[t("div",{staticClass:"balance-text"},[t("span",[a._v("¥")]),a._v(" "+a._s(a.accountTab.specialTable.balance))]),a._v(" "),t("div",{staticClass:"app-table"},[t("el-table",{attrs:{data:a.accountTab.specialTable.balanceData,height:a.height}},[t("el-table-column",{attrs:{prop:"name",label:"名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"balance",label:"金额(元)"}}),a._v(" "),t("el-table-column",{attrs:{prop:"amount",label:"冻结金额(元)"}}),a._v(" "),t("el-table-column",{attrs:{prop:"endTime",label:"有效期至"}}),a._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{"popper-class":"popper-user-range",placement:"left",title:"使用范围",width:"300",trigger:"hover",content:e.row.description}},[t("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a._v("使用范围")])],1)]}}])})],1),a._v(" "),t("div",{staticClass:"app-pagination"},[t("el-pagination",{attrs:{layout:"prev, pager, next","current-page":a.accountTab.specialTable.searchParams.current,"page-size":a.accountTab.specialTable.searchParams.size,total:a.accountTab.specialTable.total},on:{"size-change":a.sizeChange,"current-change":a.pageChange}})],1)],1)]),a._v(" "),t("el-tab-pane",{attrs:{label:"返利",name:"1"}},[t("div",{staticClass:"balance-text"},[t("span",[a._v("¥")]),a._v(" "+a._s(a.accountTab.rebateTable.balance))]),a._v(" "),t("div",{staticClass:"app-table"},[t("div",{staticClass:"app-search-bar search-bar clearfix"},[t("div",{staticClass:"app-search-left dib-wrap"},[t("div",{staticClass:"search-item dib"},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},on:{change:a.queryUserAccountDetail,clear:a.queryUserAccountDetail},model:{value:a.accountTab.rebateTable.searchParams.date,callback:function(e){a.$set(a.accountTab.rebateTable.searchParams,"date",e)},expression:"accountTab.rebateTable.searchParams.date"}})],1)])]),a._v(" "),t("el-table",{attrs:{data:a.accountTab.rebateTable.balanceData,height:a.height}},[t("el-table-column",{attrs:{prop:"createTime",label:"时间"}}),a._v(" "),t("el-table-column",{attrs:{prop:"orderCode",label:"订单编号"}}),a._v(" "),t("el-table-column",{attrs:{prop:"accountTypeEnumName",label:"事件"}}),a._v(" "),t("el-table-column",{attrs:{prop:"amount",label:"金额"}})],1),a._v(" "),t("div",{staticClass:"app-pagination"},[t("el-pagination",{attrs:{layout:"prev, pager, next","current-page":a.accountTab.rebateTable.searchParams.current,"page-size":a.accountTab.rebateTable.searchParams.size,total:a.accountTab.rebateTable.total},on:{"size-change":a.sizeChange,"current-change":a.pageChange}})],1)],1)])],1)],1)],1),a._v(" "),t("win-special-detail",{ref:"refSpecialDetail"})],1)},n=[],s=(t("7f7f"),t("db72")),c=t("5880"),r=t("b775"),i=t("700d");function o(a){return Object(r["a"])({baseURL:i["a"],url:"/member/admin/userInfo/".concat(a.sid),method:"get"})}function d(a){return Object(r["a"])({baseURL:i["a"],url:"/member/admin/userInfo/bill/".concat(a.sid),method:"get"})}function b(a){return Object(r["a"])({baseURL:i["a"],url:"/member/admin/userInfo/qualification/".concat(a.sid),method:"get"})}function u(a){return Object(r["a"])({baseURL:i["a"],url:"/member/admin/userInfo/account/".concat(a.sid,"/").concat(a.type),method:"get",params:a})}function p(a){return Object(r["a"])({baseURL:i["a"],url:"/member/admin/userInfo/pageUserAccountDetail",method:"get",params:a})}function v(a){return Object(r["a"])({baseURL:i["a"],url:"/member/admin/userInfo/specialList/".concat(a.userSid),method:"get",params:a})}var m=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("el-dialog",{staticClass:"el-win-member-special-detail",attrs:{title:a.title,visible:a.show,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){a.show=e}}},[t("div",{staticClass:"app-table"},[t("div",{staticClass:"app-search-bar search-bar clearfix"},[t("div",{staticClass:"app-search-left dib-wrap"},[t("div",{staticClass:"search-item dib"},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},on:{change:a.query,clear:a.query},model:{value:a.searchParams.date,callback:function(e){a.$set(a.searchParams,"date",e)},expression:"searchParams.date"}})],1),a._v(" "),t("div",{staticClass:"search-item dib"},[t("el-button",{attrs:{size:"small",icon:"el-icon-search",type:"primary"},on:{click:a.query}},[a._v("搜索")])],1)])]),a._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:a.tableData,height:450},on:{select:a.handleSelect}},[t("el-table-column",{attrs:{prop:"productCode",label:"时间","min-width":"120",align:"left","show-overflow-tooltip":""}}),a._v(" "),t("el-table-column",{attrs:{prop:"commodityName",label:"订单编号","min-width":"150",align:"left","show-overflow-tooltip":""}}),a._v(" "),t("el-table-column",{attrs:{prop:"spec",label:"事件","min-width":"150",align:"left"}}),a._v(" "),t("el-table-column",{attrs:{prop:"manufacturer",label:"金额","min-width":"120",align:"left","show-overflow-tooltip":""}})],1),a._v(" "),t("div",{staticClass:"app-pagination"},[t("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper",small:"","current-page":a.page.current,"page-size":a.page.size,total:a.page.total},on:{"size-change":a.sizeChange,"current-change":a.pageChange}})],1)],1)])},h=[],_=t("c1df"),f=t.n(_),g={name:"WinSpecialDetail",components:{},data:function(){return{edit:!1,title:"查看专项款明细",loading:!1,searchParams:{userInfoSid:"",accountSpecialSid:"",accountType:2,date:[],current:1,size:10},tableData:[],tableLoading:!1,page:{total:0},show:!1}},watch:{},created:function(){},methods:{open:function(a,e){var t=this;this.edit=!0,this.loading=!1,this.callback=e,this.title=a.name+"专项款明细",this.searchParams.userInfoSid=a.userInfoSid,this.searchParams.accountSpecialSid=a.sepecalSid,this.show=!0,this.$nextTick(function(){t.query()})},close:function(){this.show=!1},query:function(){var a=this;this.tableLoading=!0;var e=Object.assign({},this.searchParams);e.date&&(e.startTime=f()(e.date[0]).format("YYYY-MM-DD")),e.date&&(e.endTime=f()(e.date[1]).format("YYYY-MM-DD")),delete e.date,p(e).then(function(e){a.tableData=e.data.data.records||[],a.page.total=e.data.data.total,a.tableLoading=!1})},sizeChange:function(a){},pageChange:function(a){this.searchData.page.current=a}}},T=g,D=(t("b711"),t("2877")),C=Object(D["a"])(T,m,h,!1,null,null,null),y=C.exports,w={name:"PageMemberDetail",components:{WinSpecialDetail:y},data:function(){return{ossURL:this.$store.getters.oss_url+"/",sid:this.$route.query.id,activeName:"1",member:{},bill:{},qualificationData:[],accountTab:{active:"0",balanceTable:{balance:0,balanceData:[],total:0,searchParams:{date:[],current:1,size:10}},specialTable:{balance:0,balanceData:[],total:0,searchParams:{current:1,size:10}},rebateTable:{balance:0,balanceData:[],total:0,searchParams:{date:[],current:1,size:10}}}}},computed:Object(s["a"])({},Object(c["mapGetters"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-390}}),created:function(){this.memberDetail()},methods:{goBack:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.go(-1)},handleDetailTabClick:function(a){switch(a.name){case"1":this.memberDetail();break;case"2":this.billDetail();break;case"3":this.qualificationDetail();break;case"4":this.queryUserAccount({name:"0"});break}},memberDetail:function(){var a=this;o({sid:this.sid}).then(function(e){var t=e.data.data;a.member=t})},billDetail:function(){var a=this;d({sid:this.sid}).then(function(e){var t=e.data.data;a.bill=t})},qualificationDetail:function(){var a=this;b({sid:this.sid}).then(function(e){var t=e.data.data;a.qualificationData=t})},view:function(a){window.open(this.ossURL+a.fileUrl)},queryUserAccount:function(a){var e=this;u({sid:this.sid,type:a.name}).then(function(t){var l=t.data.data;switch(a.name){case"0":e.accountTab.balanceTable.balance=l.balance,e.queryUserAccountDetail();break;case"2":e.accountTab.specialTable.balance=l.balance,e.queryUserSpecialList();break;case"1":e.accountTab.rebateTable.balance=l.balance,e.queryUserRebateDetail();break}})},queryUserAccountDetail:function(){var a=this,e=Object.assign({},this.accountTab.balanceTable.searchParams);e.date&&e.date.length>0&&(e.startTime=f()(e.date[0]).format("YYYY-MM-DD")),e.date&&e.date.length>0&&(e.endTime=f()(e.date[1]).format("YYYY-MM-DD")),delete e.date,p(Object.assign({userInfoSid:this.sid,accountType:0},e)).then(function(e){var t=e.data.data.records;a.accountTab.balanceTable.balanceData=t||[]})},queryUserSpecialList:function(){var a=this;v(Object.assign({userSid:this.sid})).then(function(e){var t=e.data.data;a.accountTab.specialTable.balanceData=t||[]})},queryUserRebateDetail:function(){var a=this,e=Object.assign({},this.accountTab.rebateTable.searchParams);e.date&&e.date.length>0&&(e.startTime=f()(e.date[0]).format("YYYY-MM-DD")),e.date&&e.date.length>0&&(e.endTime=f()(e.date[1]).format("YYYY-MM-DD")),delete e.date,p(Object.assign({userInfoSid:this.sid,accountType:1},e)).then(function(e){var t=e.data.data.records;a.accountTab.rebateTable.balanceData=t||[]})},specialDetail:function(a){this.$refs["refSpecialDetail"].open(a,function(a){})},sizeChange:function(a){},pageChange:function(a){}}},k=w,z=(t("f81f"),Object(D["a"])(k,l,n,!1,null,null,null));e["default"]=z.exports},6070:function(a,e,t){},"74f0":function(a,e,t){var l={"./en-gb":"39a6","./zh-cn":"5c3a"};function n(a){var e=s(a);return t(e)}function s(a){var e=l[a];if(!(e+1)){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}return e}n.keys=function(){return Object.keys(l)},n.resolve=s,a.exports=n,n.id="74f0"},b711:function(a,e,t){"use strict";var l=t("f44d"),n=t.n(l);n.a},f44d:function(a,e,t){},f81f:function(a,e,t){"use strict";var l=t("6070"),n=t.n(l);n.a}}]);