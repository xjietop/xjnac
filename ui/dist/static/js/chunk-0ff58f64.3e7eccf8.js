(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ff58f64"],{"386d":function(e,t,a){"use strict";var r=a("cb7c"),s=a("83a1"),n=a("5f1b");a("214f")("search",1,function(e,t,a,i){return[function(a){var r=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,r):new RegExp(a)[t](String(r))},function(e){var t=i(a,e,this);if(t.done)return t.value;var c=r(e),o=String(this),l=c.lastIndex;s(l,0)||(c.lastIndex=0);var d=n(c,o);return s(c.lastIndex,l)||(c.lastIndex=l),null===d?-1:d.index}]})},"391e":function(e,t,a){"use strict";var r=a("b509"),s=a.n(r);s.a},"650f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container app-order-list"},[a("search-bar",{ref:"refSearch",attrs:{"search-data":e.searchData,"auto-load":!0},on:{search:e.query}},[a("template",{slot:"left"},[0===e.searchParams.dateType?a("div",{staticClass:"search-item dib"},[a("el-date-picker",{attrs:{type:"month",size:"small",placeholder:"选择月",clearable:!1},on:{change:e.search},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1):a("div",{staticClass:"search-item dib"},[a("el-date-picker",{attrs:{type:"year",size:"small",placeholder:"选择年",clearable:!1},on:{change:e.search},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1)]),e._v(" "),a("template",{slot:"right"},[a("el-radio-group",{attrs:{size:"small"},on:{change:e.search},model:{value:e.searchParams.dateType,callback:function(t){e.$set(e.searchParams,"dateType",t)},expression:"searchParams.dateType"}},[a("el-radio-button",{attrs:{label:0}},[e._v("月度任务")]),e._v(" "),a("el-radio-button",{attrs:{label:1}},[e._v("年度任务")])],1)],1)],2),e._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,height:e.height,stripe:""}},[a("el-table-column",{attrs:{prop:"taskTimeDesc",label:"任务时间",width:"180",align:"center",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"任务商品","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"countSales",label:"任务金额(元)","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"currentSales",label:"核算后金额(元)","min-width":"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"productRate",label:"完成率","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.productRate)+"%\n                ")]}}])}),e._v(" "),e.isProvinceOrArea?a("el-table-column",{attrs:{prop:"currentSales",label:"团队成员","min-width":"100",align:"center"}}):e._e()],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":e.searchData.page.current,"page-size":e.searchData.page.size,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)],1)},s=[],n=(a("386d"),a("db72")),i=a("b775"),c=a("700d");function o(e){return Object(i["a"])({baseURL:c["a"],url:"/bi/api/statistics/product/page",method:"post",data:e})}var l=a("5880"),d=a("b932"),u=a("c1df"),h=a.n(u),p={name:"PageBiProducttaskList",components:{searchBar:d["a"]},data:function(){return{ossURL:this.$store.getters.oss_url+"/",searchData:{quickList:[{label:"任务商品",value:"businessName"},{label:"团队成员",value:"userName"}],searchList:[],page:{size:20,current:1}},searchParams:{dateType:0},dateTime:h()(),tableData:[],totalData:{},tableLoading:!1,page:{total:0}}},computed:Object(n["a"])({},Object(l["mapGetters"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205},isProvinceOrArea:function(){return 1===this.$store.getters.userInfo.isProvince||1===this.$store.getters.userInfo.isRegion}}),mounted:function(){this.isProvinceOrArea||this.searchData.quickList.splice(1,1)},methods:{query:function(e){var t=this;this.tableLoading=!0;var a=Object.assign({},this.searchParams);0===a.dateType?(a.startTime=h()(this.dateTime).startOf("month").format("YYYY-MM-DD"),a.endTime=h()(this.dateTime).endOf("month").format("YYYY-MM-DD")):(a.startTime=h()(this.dateTime).startOf("year").format("YYYY-MM-DD"),a.endTime=h()(this.dateTime).endOf("year").format("YYYY-MM-DD")),o(Object.assign({},e,a)).then(function(e){t.tableData=e.data.data.records,t.totalData=e.data.totalData,t.page.total=e.data.data.total,t.tableLoading=!1})},search:function(){this.$refs["refSearch"].search()},sizeChange:function(e){this.$refs["refSearch"].search({size:e})},pageChange:function(e){this.$refs["refSearch"].search({current:e})},detail:function(e){this.$router.push({path:"/order/detail",query:{id:e.sid}})}}},m=p,f=(a("391e"),a("2877")),b=Object(f["a"])(m,r,s,!1,null,"5745438d",null);t["default"]=b.exports},"74f0":function(e,t,a){var r={"./en-gb":"39a6","./zh-cn":"5c3a"};function s(e){var t=n(e);return a(t)}function n(e){var t=r[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="74f0"},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},b509:function(e,t,a){}}]);