(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ceed301"],{"015b":function(e,t,a){},"078a":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-set-price",attrs:{title:"修改价格",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"medium","label-width":"80px"}},[a("el-form-item",{attrs:{prop:"price",label:"抱团价"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入抱团价",maxlength:10},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"retailPrice",label:"零售价"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入零售价"},model:{value:e.form.retailPrice,callback:function(t){e.$set(e.form,"retailPrice",t)},expression:"form.retailPrice"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("提交审核")])],1)],1)},i=[],r=(a("28a5"),a("ac6a"),a("feb7")),n=a("0b60"),o={name:"WinProductListSetPrice",data:function(){return{edit:!1,loading:!1,formLoading:!1,form:{sid:"",price:"",retailPrice:"",skuList:[]},tableColumn:[],product:{},rules:{price:[{required:!0,message:"请输入抱团价",trigger:"blur"},{pattern:n["a"].money,message:"价格最多保留两位小数",trigger:"blur"}],retailPrice:[{required:!0,message:"请输入零售价",trigger:"blur"},{pattern:n["a"].money,message:"价格最多保留两位小数",trigger:"blur"}]},show:!1}},methods:{update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.show=!0,this.product=Object.assign({},e),this.form.sid=e.sid,this.form.skuList=[],this.tableColumn=[],this.$nextTick(function(){a.$refs["ruleForm"].resetFields(),1!==a.product.drugs&&a.queryProductSkuList(),a.form.price=e.price,a.form.retailPrice=e.retailPrice})},save:function(){var e=this;this.$refs["ruleForm"].validate(function(t){if(!t)return!1;e.loading=!0;var a=Object.assign({},e.form);e.callback(a)})},close:function(){this.show=!1},queryProductSkuList:function(e){var t=this;this.formLoading=!0,Object(r["g"])(Object.assign({sid:this.product.sid})).then(function(e){var a=e.data.data;a.length>0?a.forEach(function(e,a){if(e.attrValueJson){var s=JSON.parse(e.attrValueJson),i={};for(var r in s)i[r.split("###")[1]]=s[r].split("###")[1],0===a&&t.tableColumn.push(r.split("###")[1]);t.form.skuList.push({sid:e.sid,price:e.price,retailPrice:e.retailPrice,attrValue:i})}}):t.product.drugs=1,t.$nextTick(function(){t.formLoading=!1})})}}},l=o,c=(a("fb04"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,null,null);t["a"]=u.exports},"07e7":function(e,t,a){"use strict";var s=a("5de6"),i=a.n(s);i.a},"0b60":function(e,t,a){"use strict";t["a"]={IDcard:/^\d{6}(19|2\d)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)?$/,cell_phone:/^(1[3-9][0-9])\d{8}$|\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,mobile:/^((13|14|15|17|18)[0-9]{1}\d{8})$/,chinese:/^[\u0391-\uFFE5]+$/,date:/^\d{4}-\d{2}-\d{2}$/,digits:/^\d+$/,email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,letters:/^[a-z]+$/i,person_name:/^(?!\d+$)[\dA-Za-z\u2E80-\uFE4F]{1,20}$/,qq:/^[1-9]\d{4,}$/,tel:/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,time:/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,url:/^(https?|s?ftp):\/\/\S+$/i,zipcode:/^\d{6}$/,telPhone:/^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$|^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$|^0\d{2,3}-?\d{7,8}$/,longitude:/^[\-\+]?(((\d|[1-9]\d|1[0-7]\d|0)\.\d{0,10})|(\d|[1-9]\d|1[0-7]\d|0{1,3})|180\.0{0,10}|180)$/,latitude:/^[\-\+]?([0-8]?\d{1}\.\d{0,10}|90\.0{0,10}|[0-8]?\d{1}|90)$/,zmszhz:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,price:/^[0-9]+([.]{1}[0-9]{1,2})?$/,priceDecimal:/^[0-9]+([.]{1}[0-9]{1,4})?$/,money:/^\d+(\.\d{1,2})?$/,money2:/^[\-\+]?\d+(\.\d{1,2})?$/,money3:/^\d{1,10}(\.\d{1,2})?$/,discount:/^(\d|[1-9]\d|100)(\.\d{1,2})?$/,passWord:/^[a-zA-Z0-9\x21-\x7e]{6,20}$/}},"0fd4":function(e,t,a){"use strict";var s=a("be2d"),i=a.n(s);i.a},"24b5":function(e,t,a){},"386d":function(e,t,a){"use strict";var s=a("cb7c"),i=a("83a1"),r=a("5f1b");a("214f")("search",1,function(e,t,a,n){return[function(a){var s=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,s):new RegExp(a)[t](String(s))},function(e){var t=n(a,e,this);if(t.done)return t.value;var o=s(e),l=String(this),c=o.lastIndex;i(c,0)||(o.lastIndex=0);var u=r(o,l);return i(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]})},"39f4":function(e,t,a){},"4e90":function(e,t,a){},"5de6":function(e,t,a){},7149:function(e,t,a){"use strict";var s=a("4e90"),i=a.n(s);i.a},"75b6":function(e,t,a){"use strict";var s=a("015b"),i=a.n(s);i.a},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},8970:function(e,t,a){"use strict";var s=a("a1e8"),i=a.n(s);i.a},"8a15":function(e,t,a){"use strict";var s=a("da90"),i=a.n(s);i.a},"9fac":function(e,t,a){"use strict";var s=a("af20"),i=a.n(s);i.a},a1e8:function(e,t,a){},a6bc:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container app-product-list"},[a("search-bar",{ref:"refSearch",attrs:{"search-data":e.searchData,"auto-load":!0},on:{search:e.query}},[a("template",{slot:"leftBtn"},[e._v("\n              "),a("el-checkbox",{attrs:{"true-label":1,"false-label":0,label:"仅看即将上涨的商品"},on:{change:e.search},model:{value:e.searchParams.risePrice,callback:function(t){e.$set(e.searchParams,"risePrice",t)},expression:"searchParams.risePrice"}})],1)],2),e._v(" "),a("div",{staticClass:"app-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"refTable",attrs:{data:e.tableData,height:e.height,"tooltip-effect":"light",stripe:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"productCode",label:"商品ID","min-width":"120",align:"left",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{label:"商品名称","min-width":"150",align:"left",fixed:"","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"link",on:{click:function(a){return e.viewDetail(t.row)}}},[e._v(e._s(t.row.commodityName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"supplier",label:"供应商","min-width":"120",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"商品品种","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(1===t.row.huddle?"抱团":"尚划算")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"所属俱乐部","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.businessAttrList,function(t){return[0!==t.club?a("span",{key:t.club,staticClass:"club-tag"},[e._v(e._s(1===t.club?"乐赛仙":2===t.club?"佐安堂":"初心"))]):e._e()]})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"brand",label:"品牌","min-width":"100",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"spec",label:"商品规格","min-width":"150",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产厂家","min-width":"120",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"approvalNumber",label:"批准文号","min-width":"160",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"barCode",label:"商品条码","min-width":"130",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"batchCode",label:"批号优于","min-width":"100",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"expireDate",label:"效期优于","min-width":"100",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.expireDate&&t.row.expireDate.substring(0,10))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"抱团价","min-width":"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"retailPrice",label:"零售价","min-width":"80",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"statusName",label:"状态","min-width":"80",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"关联标签","min-width":"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.labelMap&&1===t.row.huddle?[e._l(t.row.labelMap,function(t,s){return[t.length>0?a("div",{key:s,staticClass:"tag-li clearfix"},["1"===s?a("span",[e._v("乐")]):e._e(),e._v(" "),"2"===s?a("span",[e._v("佐")]):e._e(),e._v(" "),"3"===s?a("span",[e._v("初")]):e._e(),e._v(" "),e._l(t,function(t){return a("el-image",{key:t.sid,attrs:{src:e.ossURL+t.iconUrl,fit:"contain"}})})],2):e._e()]})]:e._e(),e._v(" "),t.row.labelMap&&0===t.row.huddle?[e._l(t.row.labelMap,function(t,s){return[t.length>0&&"3"===s?a("div",{key:s,staticClass:"tag-li"},[a("span",[e._v("尚")]),e._v(" "),e._l(t,function(t){return a("el-image",{key:t.sid,attrs:{src:e.ossURL+t.iconUrl,fit:"contain"}})})],2):e._e()]})]:e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.sys_product_edit?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.update(t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),e.sys_product_up_down?a("el-button",{attrs:{type:"text",disabled:2===t.row.status||0===t.row.skuList.length},on:{click:function(a){return e.upper(t.row)}}},[e._v("上架")]):e._e(),e._v(" "),e.sys_product_up_down?a("el-button",{attrs:{type:"text",disabled:2!==t.row.status||0===t.row.skuList.length},on:{click:function(a){return e.down(t.row)}}},[e._v("下架")]):e._e(),e._v(" "),a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[a("el-button",{attrs:{type:"text"}},[e._v("更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.sys_product_set_index?a("el-dropdown-item",{attrs:{command:{row:t.row,id:1},disabled:1!==t.row.huddle}},[e._v("修改序号")]):e._e(),e._v(" "),e.sys_product_set_price?a("el-dropdown-item",{attrs:{command:{row:t.row,id:2},disabled:0===t.row.skuList.length}},[e._v("修改价格")]):e._e(),e._v(" "),e.sys_product_relation?a("el-dropdown-item",{attrs:{command:{row:t.row,id:3}}},[e._v("设置关联商品")]):e._e(),e._v(" "),e.sys_area_set?a("el-dropdown-item",{attrs:{command:{row:t.row,id:4}}},[e._v("设置控销区域")]):e._e(),e._v(" "),e.sys_product_price?a("el-dropdown-item",{attrs:{command:{row:t.row,id:5},disabled:1!==t.row.huddle}},[e._v("设置即将涨价")]):e._e(),e._v(" "),1!==t.row.huddle||t.row.businessAttrList.length<=1?[e.sys_set_label?a("el-dropdown-item",{attrs:{command:{row:t.row,id:6,club:0===t.row.huddle?0:t.row.businessAttrList[0].club}}},[e._v("设置标签")]):e._e()]:[e.sys_set_label?e._l(t.row.businessAttrList,function(s){return a("el-dropdown-item",{key:s.club,attrs:{command:{row:t.row,id:6,club:s.club}}},[e._v("设置"+e._s(1===s.club?"乐赛仙":2===s.club?"佐安堂":"初心")+"标签")])}):e._e()],e._v(" "),e.sys_set_sy?a("el-dropdown-item",{attrs:{command:{row:t.row,id:7}}},[e._v("维护首营资料")]):e._e(),e._v(" "),e.sys_product_inspection_report?a("el-dropdown-item",{attrs:{command:{row:t.row,id:8}}},[e._v("维护厂检报告")]):e._e(),e._v(" "),e.sys_update_index?a("el-dropdown-item",{attrs:{command:{row:t.row,id:9}}},[e._v("更新索引")]):e._e()],2)],1)]}}])})],1)],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","prev-text":"上一页","next-text":"下一页","page-sizes":[20,50,100,200],"current-page":e.searchData.page.current,"page-size":e.searchData.page.size,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1),e._v(" "),a("win-area",{ref:"refArea"}),e._v(" "),a("win-relation",{ref:"refRelation"}),e._v(" "),a("win-select-club",{ref:"refClub"}),e._v(" "),a("win-set-price",{ref:"refPrice"}),e._v(" "),a("win-set-index",{ref:"refIndex"}),e._v(" "),a("win-set-tag",{ref:"refTag"}),e._v(" "),a("win-set-head-sales",{ref:"refHeadsales"}),e._v(" "),a("win-set-report",{ref:"refReport"})],1)},i=[],r=(a("ac6a"),a("386d"),a("db72")),n=a("feb7"),o=a("5880"),l=a("b932"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-area",attrs:{title:"设置控销区域(勾选的区域为不可销区域)",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"app-table"},[e.businessAttrList.length>1?[a("el-tabs",{attrs:{stretch:"","before-leave":e.handleBeforeLeave},on:{"tab-click":e.handleTabClick},model:{value:e.activeClub,callback:function(t){e.activeClub=t},expression:"activeClub"}},e._l(e.businessAttrList,function(e){return a("el-tab-pane",{key:e.club,attrs:{label:1===e.club?"乐赛仙":2===e.club?"佐安堂":3===e.club?"初心":"尚划算",name:e.club.toString()}})}),1)]:e._e(),e._v(" "),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"refTree",attrs:{data:e.tableData,props:e.treeProps,"node-key":"id","show-checkbox":""}}),e._v(" "),a("div",{staticClass:"quick-btns"},[a("el-button",{attrs:{size:"mini"},on:{click:e.checkedAll}},[e._v("全选")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.inverse}},[e._v("反选")])],1)],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)])},u=[],d=(a("7f7f"),a("6b54"),{name:"WinProductListArea",components:{},data:function(){return{edit:!1,loading:!1,tableData:[],tableLoading:!1,activeClub:0,businessAttrList:[],selectedData:[],selection:[],treeProps:{label:"name",children:"areaList"},show:!1}},watch:{},created:function(){},methods:{handleTabClick:function(){var e=this;this.$nextTick(function(){e.toggleRowSelection()})},handleBeforeLeave:function(e,t){var a=this;this.selectedData.forEach(function(e){e.club===1*t&&(e.areaKeys=a.$refs["refTree"].getCheckedKeys(),e.areaList=a.$refs["refTree"].getCheckedNodes())}),this.$nextTick(function(){return!0})},update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.sid=e.sid,0===e.businessAttrList[0].club&&e.businessAttrList.splice(0,1),this.activeClub=e.businessAttrList[0].club.toString(),this.businessAttrList=e.businessAttrList,this.selectedData=[],this.show=!0,this.$nextTick(function(){a.query(function(){a.queryProductArea()})})},save:function(){var e=this;this.loading=!0;var t=[];this.selectedData.forEach(function(a){a.club===1*e.activeClub&&(a.areaKeys=e.$refs["refTree"].getCheckedKeys(),a.areaList=e.$refs["refTree"].getCheckedNodes());var s=[];a.areaList&&a.areaList.forEach(function(e){s.push({areaNode:e.node,areaName:e.name,areaSid:e.id})}),t.push({productSid:a.productSid,club:a.club,areaList:s})}),this.callback(t)},close:function(){this.show=!1},query:function(e){var t=this;this.tableLoading=!0,0===this.tableData.length?Object(n["b"])({node:1}).then(function(a){t.tableData=a.data.data||[],t.tableLoading=!1,e()}):e()},queryProductArea:function(e){var t=this;this.tableLoading=!0,Object(n["d"])({sid:this.sid}).then(function(e){var a=e.data.data.records||[];a.forEach(function(e){e.areaKeys=t.getAreaKeys(e.areaList)}),t.selectedData=a,t.$nextTick(function(){t.toggleRowSelection(),t.tableLoading=!1})})},getAreaKeys:function(e){var t=[];return e&&e.forEach(function(e){e.id=e.areaSid,e.name=e.areaName,e.node=e.areaNode,t.push(e.areaSid)}),t},toggleRowSelection:function(){var e=this;1===this.selectedData.filter(function(t){return t.club.toString()===e.activeClub}).length&&this.selectedData.forEach(function(t){t.club.toString()===e.activeClub&&e.$refs["refTree"].setCheckedKeys(t.areaKeys)})},checkedAll:function(){this.$refs["refTree"].setCheckedNodes(this.tableData)},batchSelect:function(e,t,a,s){"undefined"!==typeof e&&e.forEach(function(e){t.setChecked(e,a,!0)}),"undefined"!==typeof s&&s.forEach(function(e){t.setChecked(e,!a,!0)})},inverse:function(){var e=this.$refs["refTree"],t=this.$refs["refTree"].getCheckedNodes(!0,!0);this.batchSelect(this.tableData,e,!0,t)}}}),f=d,h=(a("0fd4"),a("2877")),p=Object(h["a"])(f,c,u,!1,null,null,null),b=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-relation",attrs:{title:"关联商品",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"app-table"},[a("div",{staticClass:"app-search-bar search-bar clearfix"},[a("div",{staticClass:"app-search-right dib-wrap"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addRelation}},[e._v("添加关联商品")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:e.tableData,height:450},on:{select:e.handleSelect}},[a("el-table-column",{attrs:{prop:"productCode",label:"商品ID","min-width":"120",align:"left",fixed:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"商品名称","min-width":"150",align:"left",fixed:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产厂家","min-width":"120",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"控制展示场景","min-width":"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox-group",{model:{value:t.row.relationClubList,callback:function(a){e.$set(t.row,"relationClubList",a)},expression:"scope.row.relationClubList"}},[e._l(t.row.clubList,function(s){return[0!==s?a("el-checkbox",{key:s,attrs:{name:t.row.sid,label:s}},[e._v(e._s(1===s?"乐赛仙":2===s?"佐安堂":"初心"))]):e._e()]})],2)]}}])})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1),e._v(" "),a("win-add-relation",{ref:"refAddRelation"})],1)},g=[],v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-add-relation",attrs:{title:"添加关联商品",visible:e.show,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"app-table"},[a("search-bar",{ref:"refSearch",staticClass:"search-bar",attrs:{"search-data":e.searchData,"auto-load":!1},on:{search:e.query}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:e.tableData,height:450},on:{select:e.handleSelect}},[a("el-table-column",{attrs:{prop:"productCode",label:"商品ID","min-width":"150",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"商品名称","min-width":"150",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产厂家","min-width":"120",align:"left","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.choseItem(t.row)}}},[e._v("添加")])]}}])})],1),e._v(" "),a("div",{staticClass:"app-pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next",small:"","current-page":e.searchData.page.current,"page-size":e.searchData.page.size,total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})],1)],1)])},_=[],w={name:"WinProductListAddRelation",components:{searchBar:l["a"]},data:function(){return{edit:!1,loading:!1,searchData:{quickList:[{label:"按商品编号",value:"productCode"},{label:"按商品名称",value:"commodityName"},{label:"按生产厂家",value:"manufacture"}],searchList:[],page:{size:10,current:1}},searchParams:{},tableData:[],tableLoading:!1,page:{total:0},show:!1}},methods:{update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.show=!0,this.$nextTick(function(){console.log(e),a.searchParams.productSid=e.productSid,a.searchParams.supplierSid=e.supplierSid,a.$refs["refSearch"].search()})},choseItem:function(e){this.callback(e),this.show=!1},close:function(){this.show=!1},query:function(e){var t=this;this.tableLoading=!0,Object(n["f"])(Object.assign({},e,this.searchParams)).then(function(e){t.tableData=e.data.data.records||[],t.page.total=e.data.data.total,t.tableLoading=!1})},sizeChange:function(e){this.$refs["refSearch"].search({size:e})},pageChange:function(e){this.$refs["refSearch"].search({current:e})}}},y=w,$=(a("da9b"),Object(h["a"])(y,v,_,!1,null,null,null)),k=$.exports,L={name:"WinProductListRelation",components:{WinAddRelation:k},data:function(){return{edit:!1,loading:!1,searchParams:{},tableData:[],huddle:"",tableLoading:!1,show:!1}},methods:{addRelation:function(e){var t=this;this.$refs["refAddRelation"].update(this.searchParams,function(e){0===t.tableData.filter(function(t){return t.sid===e.sid}).length?(t.$set(e,"relationClubList",e.clubList),t.tableData.push(e)):t.$message({showClose:!0,message:"此商品已添加至关联列表",type:"warning"})})},update:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.tableData=[],this.show=!0,this.$nextTick(function(){a.searchParams.productSid=e.sid,a.searchParams.supplierSid=e.supplierSid,a.query()})},save:function(){if(this.tableData.length>0){this.loading=!0;var e={productSid:this.searchParams.productSid,targetProductList:[]};this.tableData.forEach(function(t){t.relationClubList.length>0&&e.targetProductList.push({clubs:t.relationClubList,targetProductSid:t.sid})}),this.callback(e)}else this.$message({showClose:!0,message:"请选择关联商品",type:"warning"})},close:function(){this.show=!1},query:function(){var e=this;this.listLoading=!0,Object(n["i"])(this.searchParams).then(function(t){e.tableData=t.data.data&&t.data.data.records||[],e.listLoading=!1})},sizeChange:function(e){this.page.pageSize=e,this.queryAttrbute()},pageChange:function(e){this.page.currentPage=e,this.queryAttrbute()}}},C=L,x=(a("9fac"),Object(h["a"])(C,m,g,!1,null,null,null)),S=x.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-select-club",attrs:{title:"请选择涨价的俱乐部",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"medium","label-width":"90px"}},[a("el-form-item",{attrs:{prop:"clubs",label:"选择俱乐部"}},e._l(e.businessAttrList,function(t){return a("el-checkbox",{key:t.club,attrs:{"true-label":1,"false-label":0},model:{value:t.risePrice,callback:function(a){e.$set(t,"risePrice",a)},expression:"item.risePrice"}},[e._v(e._s(1===t.club?"乐赛仙":2===t.club?"佐安堂":"初心"))])}),1),e._v(" "),a("el-form-item",{attrs:{label:"涨价原因",prop:"riseContent",rules:[{required:e.businessAttrList.filter(function(e){return 1===e.risePrice}).length>0,message:"请输入涨价原因",trigger:"blur"}]}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.form.riseContent,callback:function(t){e.$set(e.form,"riseContent",t)},expression:"form.riseContent"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},R=[],j={name:"WinCategory",data:function(){return{edit:!1,loading:!1,form:{clubs:[],riseContent:""},businessAttrList:[],show:!1}},methods:{open:function(e,t){var a=this;this.edit=!1,this.loading=!1,this.callback=t,this.businessAttrList=[],e.businessAttrList.forEach(function(e){a.businessAttrList.push({club:e.club,risePrice:e.risePrice,riseContent:e.riseContent}),1===e.risePrice&&(a.form.riseContent=e.riseContent)}),this.show=!0},save:function(){var e=this;this.loading=!0;var t=this.businessAttrList;t.forEach(function(t){1===t.risePrice&&(t.riseContent=e.form.riseContent)}),this.callback(t)},close:function(){this.show=!1}}},O=j,A=(a("7149"),Object(h["a"])(O,P,R,!1,null,null,null)),D=A.exports,U=a("078a"),T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-set-index",attrs:{title:"修改序号",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{size:"medium","label-width":"80px"}},e._l(e.businessAttrList,function(t){return a("el-form-item",{key:t.club,attrs:{label:1===t.club?"乐赛仙":2===t.club?"佐安堂":"初心"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入对应俱乐部的序号"},model:{value:t.showIndex,callback:function(a){e.$set(t,"showIndex",a)},expression:"item.showIndex"}})],1)}),1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},z=[],E={name:"WinCategory",data:function(){return{edit:!1,loading:!1,businessAttrList:[],show:!1}},methods:{open:function(e,t){var a=this;this.edit=!1,this.loading=!1,this.callback=t,this.businessAttrList=[],e.businessAttrList.forEach(function(e){a.businessAttrList.push({club:e.club,showIndex:e.showIndex})}),this.show=!0},save:function(){this.loading=!0;var e=this.businessAttrList;this.callback(e)},close:function(){this.show=!1}}},q=E,I=(a("07e7"),Object(h["a"])(q,T,z,!1,null,null,null)),N=I.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-select-tag",attrs:{title:"选择标签",visible:e.show,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"app-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{data:e.tableData,height:450},on:{"selection-change":e.handleSelect}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"labelVal",label:"标签名称","min-width":"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"标签图标","min-width":"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{attrs:{src:e.ossURL+t.row.iconUrl,fit:"contain"}})]}}])})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)])},F=[],B={name:"WinProductListTag",data:function(){return{ossURL:this.$store.getters.oss_url,edit:!1,loading:!1,searchParams:{size:999,current:1},tableData:[],tableLoading:!1,selected:[],page:{total:0},show:!1}},watch:{},created:function(){},methods:{open:function(e,t){var a=this;this.edit=!0,this.loading=!1,this.callback=t,this.show=!0,this.$nextTick(function(){a.searchParams.productSid=e.productSid,a.searchParams.club=e.club,a.selected=e.selection||[],a.query()})},close:function(){this.show=!1},handleSelect:function(e){this.selection=e},query:function(){var e=this;this.tableLoading=!0,Object(n["h"])(Object.assign({},this.searchParams)).then(function(t){e.tableData=t.data.data.records||[],e.page.total=t.data.data.total,e.tableLoading=!1,e.$nextTick(function(){e.tableData.forEach(function(t){var a=e.selected.filter(function(e){return t.sid===e.sid});1===a.length?e.$refs["table"].toggleRowSelection(t,!0):e.$refs["table"].toggleRowSelection(t,!1)})})})},save:function(){this.loading=!0;var e=this.selection;this.callback(e)}}},H=B,K=(a("fe96"),Object(h["a"])(H,W,F,!1,null,null,null)),M=K.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-product-list-set-headsales",attrs:{title:"编辑首营资料",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,size:"medium","label-width":"0px"}},[a("el-form-item",{attrs:{prop:"fileUrl"}},[a("image-upload",{attrs:{multiple:!1},model:{value:e.form.fileUrl,callback:function(t){e.$set(e.form,"fileUrl",t)},expression:"form.fileUrl"}},[a("template",{slot:"tips"},[a("div",{staticClass:"tips"},[a("i",{staticClass:"el-icon-upload image-uploader-icon"}),e._v(" "),a("p",[e._v("点击上传首营资料")])])])],2)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},V=[],Z=a("4a9d"),G={name:"WinProductListSetHeadsales",components:{imageUpload:Z["a"]},data:function(){return{edit:!1,loading:!1,form:{fileUrl:""},rules:{fileUrl:[{required:!0,message:"请上传首营资料",trigger:"0"}]},show:!1}},methods:{update:function(e,t){this.edit=!1,this.loading=!1,this.callback=t,e.fileUrl&&(this.form.fileUrl=e.fileUrl),this.show=!0},save:function(){this.loading=!0;var e=Object.assign({},this.form);this.callback(e)},close:function(){this.show=!1}}},X=G,Q=(a("75b6"),Object(h["a"])(X,J,V,!1,null,null,null)),Y=Q.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"el-win-set-report",attrs:{title:"维护厂检报告",visible:e.show,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"hide-required-asterisk":!0,size:"medium","label-width":"96px"}},[a("el-row",{staticClass:"resource-row",attrs:{gutter:20}},[e._l(e.fileList,function(t,s){return a("el-col",{key:s,attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[a("div",{staticClass:"resource-list-item"},[a("div",{staticClass:"resource-card resource-card-bordered resource-card-hoverable"},[a("div",{staticClass:"resource-card-cover"},["ready"==t.status?a("el-progress",{attrs:{percentage:t.progress}}):e._e(),e._v(" "),a("el-image",{directives:[{name:"viewer",rawName:"v-viewer"}],attrs:{src:t.old?e.ossURL+t.url:t.url,fit:"contain"}}),e._v(" "),a("i",{staticClass:"btn-remove el-icon-error",attrs:{title:"移除"},on:{click:function(a){return e.handleRemove(t,s)}}})],1),e._v(" "),a("div",{staticClass:"resource-card-body"},[a("div",{staticClass:"resource-card-meta"},[a("div",{staticClass:"resource-card-meta-detail"},[a("el-row",[a("el-input",{attrs:{size:"mini",placeholder:"请输入批号"},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"file.title"}},[a("template",{slot:"prepend"},[e._v("\n                                                批号\n                                            ")])],2)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入页码"},model:{value:t.page,callback:function(a){e.$set(t,"page",a)},expression:"file.page"}},[a("template",{slot:"prepend"},[e._v("\n                                                页码\n                                            ")])],2)],1)],1)])])])])])}),e._v(" "),a("el-col",{attrs:{xs:8,sm:8,md:8,lg:8,xl:8}},[a("el-upload",{ref:"upload",attrs:{action:e.baseURL+"/public/api/file/upload",headers:e.headers,accept:"image/*","file-list":e.fileList,"show-file-list":!1,"on-change":e.handleChange,"on-success":e.handleSuccess,"auto-upload":!0}},[a("i",{staticClass:"el-icon-plus"})])],1)],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.save}},[e._v("确 定")])],1)],1)},te=[],ae=a("700d"),se={name:"WinSetReport",components:{},data:function(){return{edit:!1,loading:!1,ossURL:this.$store.getters.oss_url,headers:{Authorization:"Bearer "+this.$store.getters.access_token},form:{productSid:""},rules:{},show:!1,baseURL:ae["a"],fileList:[]}},computed:{},watch:{},methods:{update:function(e,t){var a=this;this.edit=!1,this.loading=!1,this.show=!0,this.callback=t,this.form.productSid=e.sid,this.fileList=[],e.inspectionReportList&&e.inspectionReportList.forEach(function(e){a.fileList.push({page:e.page,url:e.fileUrl,productSid:e.productSid,title:e.title,old:!0,response:{data:[e.fileUrl]},status:"success"})}),this.$nextTick(function(){a.$refs["ruleForm"].resetFields()})},save:function(){var e=this;this.$refs["ruleForm"].validate(function(t){if(!t)return!1;e.loading=!0;for(var a=[],s=0;s<e.fileList.length;s++){var i=e.fileList[s];"success"===i.status&&a.push({productSid:e.form.productSid,title:i.title,page:i.page,fileUrl:i.response.data[0]})}e.callback(a)}),this.$refs.upload.submit()},close:function(){this.show=!1},handleChange:function(e,t){e.url=URL.createObjectURL(e.raw),this.$set(e,"title",""),this.$set(e,"page",""),this.fileList=t},handleSuccess:function(e,t){this.$message.success("上传成功")},handleRemove:function(e,t){this.fileList.splice(t,1)}}},ie=se,re=(a("8a15"),Object(h["a"])(ie,ee,te,!1,null,null,null)),ne=re.exports,oe={name:"PageProductList",components:{searchBar:l["a"],WinArea:b,WinRelation:S,WinSelectClub:D,WinSetPrice:U["a"],WinSetIndex:N,WinSetTag:M,WinSetHeadSales:Y,WinSetReport:ne},data:function(){return{ossURL:this.$store.getters.oss_url,searchData:{quickList:[{label:"按商品编号",value:"productCode"},{label:"按商品名称",value:"commodityName"},{label:"按生产厂家",value:"manufacture"}],searchList:[{prop:"huddle",placeholder:"品种",type:"select",clearable:!0,list:[{label:"抱团",value:1},{label:"尚划算",value:0}]},{prop:"club",placeholder:"所属俱乐部",type:"select",clearable:!0,list:[{label:"乐赛仙",value:1},{label:"佐安堂",value:2},{label:"初心",value:3}]},{prop:"status",placeholder:"状态",type:"select",clearable:!0,list:[{label:"上架",value:2},{label:"待上架",value:1}]}],page:{size:20,current:1}},searchParams:{isReady:1,risePrice:0},tableData:[],page:{total:0}}},computed:Object(r["a"])({},Object(o["mapGetters"])(["permissions"]),{height:function(){return this.$store.getters.winHeight-205}}),created:function(){this.sys_product_edit=this.permissions["sys_product_edit"],this.sys_product_set_index=this.permissions["sys_product_set_index"],this.sys_product_set_price=this.permissions["sys_product_set_price"],this.sys_area_set=this.permissions["sys_area_set"],this.sys_product_up_down=this.permissions["sys_product_up_down"],this.sys_product_add=this.permissions["sys_product_add"],this.sys_product_top=this.permissions["sys_product_top"],this.sys_new_product_push=this.permissions["sys_new_product_push"],this.sys_product_relation=this.permissions["sys_product_relation"],this.sys_product_price=this.permissions["sys_product_price"],this.sys_set_label=this.permissions["sys_set_label"],this.sys_set_sy=this.permissions["sys_set_sy"],this.sys_product_inspection_report=this.permissions["sys_product_inspection_report"],this.sys_update_index=this.permissions["sys_update_index"]},methods:{viewDetail:function(e){this.$router.push({path:"/product/detail",query:{id:e.sid}})},handleCommand:function(e){switch(this.$refs["refTable"].setCurrentRow(e.row),e.id){case 1:this.editIndex(e.row);break;case 2:this.editPrice(e.row);break;case 3:this.setRelation(e.row);break;case 4:this.setArea(e.row);break;case 5:this.setRisePrice(e.row);break;case 6:this.setTag(e.row,e.club);break;case 7:this.setHeadSales(e.row,e.club);break;case 8:this.setReport(e.row);break;case 9:this.refreshIndex(e.row);break}},query:function(e){var t=this;this.tableLoading=!0,Object(n["c"])(Object.assign({},e,this.searchParams)).then(function(e){t.tableData=e.data.data.records,t.page.total=e.data.data.total,t.tableLoading=!1})},search:function(){this.$refs["refSearch"].search()},sizeChange:function(e){this.$refs["refSearch"].search({size:e})},pageChange:function(e){this.$refs["refSearch"].search({current:e})},upper:function(e){var t=this;this.$confirm('是否确认上架名称为"'+e.commodityName+'"的商品吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(n["p"])({sid:e.sid,flag:1})}).then(function(){t.$refs["refSearch"].search(),t.$message({showClose:!0,message:"上架成功",type:"success"})}).catch(function(){})},down:function(e){var t=this;this.$confirm('是否确认下架名称为"'+e.commodityName+'"的商品吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(n["p"])({sid:e.sid,flag:0})}).then(function(){t.$refs["refSearch"].search(),t.$message({showClose:!0,message:"下架成功",type:"success"})}).catch(function(){})},update:function(e){this.$router.push({path:"/product/form/",query:{id:e.sid}})},setRelation:function(e){var t=this;this.$refs["refRelation"].update(e,function(e){Object(n["n"])(e).then(function(){t.$refs["refSearch"].search(),t.$refs["refRelation"].loading=!1,t.$refs["refRelation"].close(),t.$notify({title:"成功",message:"设置成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refRelation"].loading=!1})})},setArea:function(e){var t=this;this.$refs["refArea"].update(e,function(a){var s={sid:e.sid,area:a};Object(n["k"])(s).then(function(){t.$refs["refSearch"].search(),t.$refs["refArea"].loading=!1,t.$refs["refArea"].close(),t.$notify({title:"成功",message:"设置成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refArea"].loading=!1})})},setRisePrice:function(e){var t=this;this.$refs["refClub"].open(e,function(a){var s=[];a.forEach(function(e){s.push({club:e.club,risePrice:e.risePrice,riseContent:e.riseContent})});var i={sid:e.sid,prices:s};Object(n["o"])(i).then(function(){t.$refs["refSearch"].search(),t.$refs["refClub"].loading=!1,t.$refs["refClub"].close(),t.$notify({title:"成功",message:"设置成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refClub"].loading=!1})})},editPrice:function(e){var t=this;this.$refs["refPrice"].update(e,function(a){var s={productSid:e.sid,productCode:e.productCode,commodityName:e.commodityName,manufacturer:e.manufacturer,spec:e.spec,supplierSid:e.supplierSid,price:a.price,retailPrice:a.retailPrice,auditStatus:0};Object(n["m"])(s).then(function(){t.$refs["refSearch"].search(),t.$refs["refPrice"].loading=!1,t.$refs["refPrice"].close(),t.$alert("本次价格修改已提交审核，请耐心等待财务审核。","提交成功",{confirmButtonText:"确定",callback:function(e){}})}).catch(function(){t.$refs["refPrice"].loading=!1})})},editIndex:function(e){var t=this;this.$refs["refIndex"].open(e,function(a){var s={sid:e.sid,index:a};Object(n["l"])(s).then(function(){t.$refs["refSearch"].search(),t.$refs["refIndex"].loading=!1,t.$refs["refIndex"].close(),t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refIndex"].loading=!1})})},setTag:function(e,t){var a=this,s=[];s=0===t?e.labelMap?e.labelMap["3"]:[]:e.labelMap?e.labelMap[t]:[],s.forEach(function(e){e.sid=e.productLabelSid}),this.$refs["refTag"].open({club:t,productSid:e.sid,selection:s},function(s){var i=[];s.length>0?s.forEach(function(a){i.push({club:t,productSid:e.sid,productLabelSid:a.sid})}):i.push({club:t,productSid:e.sid}),Object(n["q"])(i).then(function(){a.$refs["refSearch"].search(),a.$refs["refTag"].loading=!1,a.$refs["refTag"].close(),a.$notify({title:"成功",message:"标签设置成功",type:"success",duration:2e3})}).catch(function(){a.$refs["refTag"].loading=!1})})},setHeadSales:function(e){var t=this;this.$refs["refHeadsales"].update(e,function(a){Object(n["r"])({productSid:e.sid,fileUrl:a.fileUrl,title:"首营资料"}).then(function(e){t.$refs["refSearch"].search(),t.$refs["refHeadsales"].loading=!1,t.$refs["refHeadsales"].close(),t.$notify({title:"操作成功",message:"首营资料更新成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refHeadsales"].loading=!1})})},setReport:function(e){var t=this;this.$refs["refReport"].update(e,function(a){Object(n["j"])({sid:e.sid,report:a}).then(function(e){t.$refs["refSearch"].search(),t.$refs["refReport"].loading=!1,t.$refs["refReport"].close(),t.$notify({title:"操作成功",message:"厂检报告更新成功",type:"success",duration:2e3})}).catch(function(){t.$refs["refReport"].loading=!1})})},refreshIndex:function(e){var t=this;this.$confirm('是否确认更新名称为"'+e.commodityName+'"的商品的索引吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){return Object(n["a"])({sid:e.sid})}).then(function(){t.$refs["refSearch"].search(),t.$message({showClose:!0,message:"更新成功",type:"success"})}).catch(function(){})}}},le=oe,ce=(a("8970"),Object(h["a"])(le,s,i,!1,null,"f452d264",null));t["default"]=ce.exports},af20:function(e,t,a){},be2d:function(e,t,a){},c348:function(e,t,a){},da90:function(e,t,a){},da9b:function(e,t,a){"use strict";var s=a("c348"),i=a.n(s);i.a},fb04:function(e,t,a){"use strict";var s=a("24b5"),i=a.n(s);i.a},fe96:function(e,t,a){"use strict";var s=a("39f4"),i=a.n(s);i.a},feb7:function(e,t,a){"use strict";a.d(t,"c",function(){return r}),a.d(t,"i",function(){return n}),a.d(t,"f",function(){return o}),a.d(t,"n",function(){return l}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return u}),a.d(t,"k",function(){return d}),a.d(t,"p",function(){return f}),a.d(t,"o",function(){return h}),a.d(t,"m",function(){return p}),a.d(t,"l",function(){return b}),a.d(t,"q",function(){return m}),a.d(t,"g",function(){return g}),a.d(t,"e",function(){return v}),a.d(t,"h",function(){return _}),a.d(t,"r",function(){return w}),a.d(t,"j",function(){return y}),a.d(t,"a",function(){return $});var s=a("b775"),i=a("700d");function r(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/page",method:"get",params:e})}function n(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/relation/list/".concat(e.productSid),method:"get",params:e})}function o(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/relation/productList/page",method:"get",params:e})}function l(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/relation",method:"put",data:e})}function c(e){return Object(s["a"])({baseURL:i["a"],url:"/admin/external/area/treeInfo",method:"get",params:e})}function u(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/area/".concat(e.sid),method:"get",params:e})}function d(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/".concat(e.sid,"/area"),method:"put",data:e.area})}function f(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/saleStatus",method:"put",data:e})}function h(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/risePrice/".concat(e.sid),method:"put",data:e.prices})}function p(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/price/audit",method:"POST",data:e})}function b(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/showIndex/".concat(e.sid),method:"put",data:e.index})}function m(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/label/relation",method:"post",data:e})}function g(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/sku/list/".concat(e.sid),method:"get",params:e})}function v(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/info/".concat(e.sid),method:"get",params:e})}function _(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/label/page",method:"get",params:e})}function w(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/headSales",method:"post",data:e})}function y(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/inspectionReport/batchUpload/".concat(e.sid),method:"post",data:e.report})}function $(e){return Object(s["a"])({baseURL:i["a"],url:"/product/admin/product/createIndexBySid/".concat(e.sid),method:"get",params:e})}}}]);